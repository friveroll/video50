(function(){function af(b,o,n){if(b===o){return 0!==b||1/b==1/o}if(null==b||null==o){return b===o}b._chain&&(b=b._wrapped);o._chain&&(o=o._wrapped);if(b.isEqual&&ar.isFunction(b.isEqual)){return b.isEqual(o)}if(o.isEqual&&ar.isFunction(o.isEqual)){return o.isEqual(b)}var m=an.call(b);if(m!=an.call(o)){return !1}switch(m){case"[object String]":return b==""+o;case"[object Number]":return b!=+b?o!=+o:0==b?1/b==1/o:b==+o;case"[object Date]":case"[object Boolean]":return +b==+o;case"[object RegExp]":return b.source==o.source&&b.global==o.global&&b.multiline==o.multiline&&b.ignoreCase==o.ignoreCase}if("object"!=typeof b||"object"!=typeof o){return !1}for(var l=n.length;l--;){if(n[l]==b){return !0}}n.push(b);var l=0,k=!0;if("[object Array]"==m){if(l=b.length,k=l==o.length){for(;l--&&(k=l in b==l in o&&af(b[l],o[l],n));){}}}else{if("constructor" in b!="constructor" in o||b.constructor!=o.constructor){return !1}for(var j in b){if(ar.has(b,j)&&(l++,!(k=ar.has(o,j)&&af(b[j],o[j],n)))){break}}if(k){for(j in o){if(ar.has(o,j)&&!l--){break}}k=!l}}n.pop();return k}var ac=this,T=ac._,ak={},ao=Array.prototype,aj=Object.prototype,aq=ao.slice,Q=ao.unshift,an=aj.toString,g=aj.hasOwnProperty,R=ao.forEach,h=ao.map,ai=ao.reduce,ah=ao.reduceRight,ae=ao.filter,ad=ao.every,ab=ao.some,ag=ao.indexOf,Z=ao.lastIndexOf,aj=Array.isArray,f=Object.keys,aa=Function.prototype.bind,ar=function(b){return new am(b)};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=ar),exports._=ar):ac._=ar;ar.VERSION="1.3.3";var ap=ar.each=ar.forEach=function(b,m,l){if(b!=null){if(R&&b.forEach===R){b.forEach(m,l)}else{if(b.length===+b.length){for(var k=0,j=b.length;k<j;k++){if(k in b&&m.call(l,b[k],k,b)===ak){break}}}else{for(k in b){if(ar.has(b,k)&&m.call(l,b[k],k,b)===ak){break}}}}}};ar.map=ar.collect=function(k,m,j){var l=[];if(k==null){return l}if(h&&k.map===h){return k.map(m,j)}ap(k,function(b,o,n){l[l.length]=m.call(j,b,o,n)});if(k.length===+k.length){l.length=k.length}return l};ar.reduce=ar.foldl=ar.inject=function(b,m,l,k){var j=arguments.length>2;b==null&&(b=[]);if(ai&&b.reduce===ai){k&&(m=ar.bind(m,k));return j?b.reduce(m,l):b.reduce(m)}ap(b,function(o,n,p){if(j){l=m.call(k,l,o,n,p)}else{l=o;j=true}});if(!j){throw new TypeError("Reduce of empty array with no initial value")}return l};ar.reduceRight=ar.foldr=function(b,n,m,l){var k=arguments.length>2;b==null&&(b=[]);if(ah&&b.reduceRight===ah){l&&(n=ar.bind(n,l));return k?b.reduceRight(n,m):b.reduceRight(n)}var j=ar.toArray(b).reverse();l&&!k&&(n=ar.bind(n,l));return k?ar.reduce(j,n,m,l):ar.reduce(j,n)};ar.find=ar.detect=function(k,m,j){var l;X(k,function(b,o,n){if(m.call(j,b,o,n)){l=b;return true}});return l};ar.filter=ar.select=function(k,m,j){var l=[];if(k==null){return l}if(ae&&k.filter===ae){return k.filter(m,j)}ap(k,function(b,o,n){m.call(j,b,o,n)&&(l[l.length]=b)});return l};ar.reject=function(k,m,j){var l=[];if(k==null){return l}ap(k,function(b,o,n){m.call(j,b,o,n)||(l[l.length]=b)});return l};ar.every=ar.all=function(k,m,j){var l=true;if(k==null){return l}if(ad&&k.every===ad){return k.every(m,j)}ap(k,function(b,o,n){if(!(l=l&&m.call(j,b,o,n))){return ak}});return !!l};var X=ar.some=ar.any=function(b,l,k){l||(l=ar.identity);var j=false;if(b==null){return j}if(ab&&b.some===ab){return b.some(l,k)}ap(b,function(n,m,o){if(j||(j=l.call(k,n,m,o))){return ak}});return !!j};ar.include=ar.contains=function(k,l){var j=false;if(k==null){return j}if(ag&&k.indexOf===ag){return k.indexOf(l)!=-1}return j=X(k,function(b){return b===l})};ar.invoke=function(b,k){var j=aq.call(arguments,2);return ar.map(b,function(l){return(ar.isFunction(k)?k||l:l[k]).apply(l,j)})};ar.pluck=function(b,j){return ar.map(b,function(k){return k[j]})};ar.max=function(b,l,k){if(!l&&ar.isArray(b)&&b[0]===+b[0]){return Math.max.apply(Math,b)}if(!l&&ar.isEmpty(b)){return -Infinity}var j={computed:-Infinity};ap(b,function(n,m,o){m=l?l.call(k,n,m,o):n;m>=j.computed&&(j={value:n,computed:m})});return j.value};ar.min=function(b,l,k){if(!l&&ar.isArray(b)&&b[0]===+b[0]){return Math.min.apply(Math,b)}if(!l&&ar.isEmpty(b)){return Infinity}var j={computed:Infinity};ap(b,function(n,m,o){m=l?l.call(k,n,m,o):n;m<j.computed&&(j={value:n,computed:m})});return j.value};ar.shuffle=function(k){var j=[],l;ap(k,function(b,m){l=Math.floor(Math.random()*(m+1));j[m]=j[l];j[l]=b});return j};ar.sortBy=function(b,l,k){var j=ar.isFunction(l)?l:function(m){return m[l]};return ar.pluck(ar.map(b,function(n,m,o){return{value:n,criteria:j.call(k,n,m,o)}}).sort(function(n,m){var p=n.criteria,o=m.criteria;return p===void 0?1:o===void 0?-1:p<o?-1:p>o?1:0}),"value")};ar.groupBy=function(b,l){var k={},j=ar.isFunction(l)?l:function(m){return m[l]};ap(b,function(n,m){var o=j(n,m);(k[o]||(k[o]=[])).push(n)});return k};ar.sortedIndex=function(b,n,m){m||(m=ar.identity);for(var l=0,k=b.length;l<k;){var j=l+k>>1;m(b[j])<m(n)?l=j+1:k=j}return l};ar.toArray=function(b){return !b?[]:ar.isArray(b)||ar.isArguments(b)?aq.call(b):b.toArray&&ar.isFunction(b.toArray)?b.toArray():ar.values(b)};ar.size=function(b){return ar.isArray(b)?b.length:ar.keys(b).length};ar.first=ar.head=ar.take=function(k,j,l){return j!=null&&!l?aq.call(k,0,j):k[0]};ar.initial=function(k,j,l){return aq.call(k,0,k.length-(j==null||l?1:j))};ar.last=function(k,j,l){return j!=null&&!l?aq.call(k,Math.max(k.length-j,0)):k[k.length-1]};ar.rest=ar.tail=function(k,j,l){return aq.call(k,j==null||l?1:j)};ar.compact=function(b){return ar.filter(b,function(j){return !!j})};ar.flatten=function(b,j){return ar.reduce(b,function(k,l){if(ar.isArray(l)){return k.concat(j?l:ar.flatten(l))}k[k.length]=l;return k},[])};ar.without=function(b){return ar.difference(b,aq.call(arguments,1))};ar.uniq=ar.unique=function(b,l,k){var k=k?ar.map(b,k):b,j=[];b.length<3&&(l=true);ar.reduce(k,function(o,n,m){if(l?ar.last(o)!==n||!o.length:!ar.include(o,n)){o.push(n);j.push(b[m])}return o},[]);return j};ar.union=function(){return ar.uniq(ar.flatten(arguments,true))};ar.intersection=ar.intersect=function(b){var j=aq.call(arguments,1);return ar.filter(ar.uniq(b),function(k){return ar.every(j,function(l){return ar.indexOf(l,k)>=0})})};ar.difference=function(b){var j=ar.flatten(aq.call(arguments,1),true);return ar.filter(b,function(k){return !ar.include(j,k)})};ar.zip=function(){for(var b=aq.call(arguments),l=ar.max(ar.pluck(b,"length")),k=Array(l),j=0;j<l;j++){k[j]=ar.pluck(b,""+j)}return k};ar.indexOf=function(b,l,k){if(b==null){return -1}var j;if(k){k=ar.sortedIndex(b,l);return b[k]===l?k:-1}if(ag&&b.indexOf===ag){return b.indexOf(l)}k=0;for(j=b.length;k<j;k++){if(k in b&&b[k]===l){return k}}return -1};ar.lastIndexOf=function(k,j){if(k==null){return -1}if(Z&&k.lastIndexOf===Z){return k.lastIndexOf(j)}for(var l=k.length;l--;){if(l in k&&k[l]===j){return l}}return -1};ar.range=function(k,j,o){if(arguments.length<=1){j=k||0;k=0}for(var o=arguments[2]||1,n=Math.max(Math.ceil((j-k)/o),0),m=0,l=Array(n);m<n;){l[m++]=k;k=k+o}return l};var V=function(){};ar.bind=function(b,l){var k,j;if(b.bind===aa&&aa){return aa.apply(b,aq.call(arguments,1))}if(!ar.isFunction(b)){throw new TypeError}j=aq.call(arguments,2);return k=function(){if(!(this instanceof k)){return b.apply(l,j.concat(aq.call(arguments)))}V.prototype=b.prototype;var m=new V,n=b.apply(m,j.concat(aq.call(arguments)));return Object(n)===n?n:m}};ar.bindAll=function(b){var j=aq.call(arguments,1);j.length==0&&(j=ar.functions(b));ap(j,function(k){b[k]=ar.bind(b[k],b)});return b};ar.memoize=function(b,k){var j={};k||(k=ar.identity);return function(){var l=k.apply(this,arguments);return ar.has(j,l)?j[l]:j[l]=b.apply(this,arguments)}};ar.delay=function(k,j){var l=aq.call(arguments,2);return setTimeout(function(){return k.apply(null,l)},j)};ar.defer=function(b){return ar.delay.apply(ar,[b,1].concat(aq.call(arguments,1)))};ar.throttle=function(r,q){var p,o,n,m,l,k,b=ar.debounce(function(){l=m=false},q);return function(){p=this;o=arguments;n||(n=setTimeout(function(){n=null;l&&r.apply(p,o);b()},q));m?l=true:k=r.apply(p,o);b();m=true;return k}};ar.debounce=function(k,j,m){var l;return function(){var n=this,b=arguments;m&&!l&&k.apply(n,b);clearTimeout(l);l=setTimeout(function(){l=null;m||k.apply(n,b)},j)}};ar.once=function(k){var j=false,l;return function(){if(j){return l}j=true;return l=k.apply(this,arguments)}};ar.wrap=function(k,j){return function(){var b=[k].concat(aq.call(arguments,0));return j.apply(this,b)}};ar.compose=function(){var b=arguments;return function(){for(var j=arguments,k=b.length-1;k>=0;k--){j=[b[k].apply(this,j)]}return j[0]}};ar.after=function(k,j){return k<=0?j():function(){if(--k<1){return j.apply(this,arguments)}}};ar.keys=f||function(b){if(b!==Object(b)){throw new TypeError("Invalid object")}var k=[],j;for(j in b){ar.has(b,j)&&(k[k.length]=j)}return k};ar.values=function(b){return ar.map(b,ar.identity)};ar.functions=ar.methods=function(b){var k=[],j;for(j in b){ar.isFunction(b[j])&&k.push(j)}return k.sort()};ar.extend=function(b){ap(aq.call(arguments,1),function(j){for(var k in j){b[k]=j[k]}});return b};ar.pick=function(b){var j={};ap(ar.flatten(aq.call(arguments,1)),function(k){k in b&&(j[k]=b[k])});return j};ar.defaults=function(b){ap(aq.call(arguments,1),function(j){for(var k in j){b[k]==null&&(b[k]=j[k])}});return b};ar.clone=function(b){return !ar.isObject(b)?b:ar.isArray(b)?b.slice():ar.extend({},b)};ar.tap=function(k,j){j(k);return k};ar.isEqual=function(k,j){return af(k,j,[])};ar.isEmpty=function(b){if(b==null){return true}if(ar.isArray(b)||ar.isString(b)){return b.length===0}for(var j in b){if(ar.has(b,j)){return false}}return true};ar.isElement=function(b){return !!(b&&b.nodeType==1)};ar.isArray=aj||function(b){return an.call(b)=="[object Array]"};ar.isObject=function(b){return b===Object(b)};ar.isArguments=function(b){return an.call(b)=="[object Arguments]"};ar.isArguments(arguments)||(ar.isArguments=function(b){return !(!b||!ar.has(b,"callee"))});ar.isFunction=function(b){return an.call(b)=="[object Function]"};ar.isString=function(b){return an.call(b)=="[object String]"};ar.isNumber=function(b){return an.call(b)=="[object Number]"};ar.isFinite=function(b){return ar.isNumber(b)&&isFinite(b)};ar.isNaN=function(b){return b!==b};ar.isBoolean=function(b){return b===true||b===false||an.call(b)=="[object Boolean]"};ar.isDate=function(b){return an.call(b)=="[object Date]"};ar.isRegExp=function(b){return an.call(b)=="[object RegExp]"};ar.isNull=function(b){return b===null};ar.isUndefined=function(b){return b===void 0};ar.has=function(k,j){return g.call(k,j)};ar.noConflict=function(){ac._=T;return this};ar.identity=function(b){return b};ar.times=function(k,j,m){for(var l=0;l<k;l++){j.call(m,l)}};ar.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};ar.result=function(b,k){if(b==null){return null}var j=b[k];return ar.isFunction(j)?j.call(b):j};ar.mixin=function(b){ap(ar.functions(b),function(j){e(j,ar[j]=b[j])})};var d=0;ar.uniqueId=function(k){var j=d++;return k?k+j:j};ar.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Y=/.^/,al={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"},W;for(W in al){al[al[W]]=W}var c=/\\|'|\r|\n|\t|\u2028|\u2029/g,a=/\\(\\|'|r|n|t|u2028|u2029)/g,U=function(b){return b.replace(a,function(k,j){return al[j]})};ar.template=function(b,l,k){k=ar.defaults(k||{},ar.templateSettings);b="__p+='"+b.replace(c,function(m){return"\\"+al[m]}).replace(k.escape||Y,function(n,m){return"'+\n_.escape("+U(m)+")+\n'"}).replace(k.interpolate||Y,function(n,m){return"'+\n("+U(m)+")+\n'"}).replace(k.evaluate||Y,function(n,m){return"';\n"+U(m)+"\n;__p+='"})+"';\n";k.variable||(b="with(obj||{}){\n"+b+"}\n");var b="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+b+"return __p;\n",j=new Function(k.variable||"obj","_",b);if(l){return j(l,ar)}l=function(m){return j.call(this,m,ar)};l.source="function("+(k.variable||"obj")+"){\n"+b+"}";return l};ar.chain=function(b){return ar(b).chain()};var am=function(b){this._wrapped=b};ar.prototype=am.prototype;var S=function(b,j){return j?ar(b).chain():b},e=function(b,j){am.prototype[b]=function(){var k=aq.call(arguments);Q.call(k,this._wrapped);return S(j.apply(ar,k),this._chain)}};ar.mixin(ar);ap("pop,push,reverse,shift,sort,splice,unshift".split(","),function(k){var j=ao[k];am.prototype[k]=function(){var l=this._wrapped;j.apply(l,arguments);var b=l.length;(k=="shift"||k=="splice")&&b===0&&delete l[0];return S(l,this._chain)}});ap(["concat","join","slice"],function(k){var j=ao[k];am.prototype[k]=function(){return S(j.apply(this._wrapped,arguments),this._chain)}});am.prototype.chain=function(){this._chain=true;return this};am.prototype.value=function(){return this._wrapped}}).call(this);
/*!
* Bootstrap.js by @fat & @mdo
* Copyright 2012 Twitter, Inc.
* http://www.apache.org/licenses/LICENSE-2.0.txt
*/
!function(b){b(function(){"use strict",b.support.transition=function(){var c=function(){var e=document.createElement("bootstrap"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},f;for(f in d){if(e.style[f]!==undefined){return d[f]}}}();return c&&{end:c}}()})}(window.jQuery),!function(e){var d='[data-dismiss="alert"]',f=function(a){e(a).on("click",d,this.close)};f.prototype.close=function(a){function g(){h.trigger("closed").remove()}var k=e(this),j=k.attr("data-target"),h;j||(j=k.attr("href"),j=j&&j.replace(/.*(?=#[^\s]*$)/,"")),h=e(j),a&&a.preventDefault(),h.length||(h=k.hasClass("alert")?k:k.parent()),h.trigger(a=e.Event("close"));if(a.isDefaultPrevented()){return}h.removeClass("in"),e.support.transition&&h.hasClass("fade")?h.on(e.support.transition.end,g):g()},e.fn.alert=function(a){return this.each(function(){var c=e(this),b=c.data("alert");b||c.data("alert",b=new f(this)),typeof a=="string"&&b[a].call(c)})},e.fn.alert.Constructor=f,e(function(){e("body").on("click.alert.data-api",d,f.prototype.close)})}(window.jQuery),!function(d){var c=function(a,e){this.$element=d(a),this.options=d.extend({},d.fn.button.defaults,e)};c.prototype.setState=function(g){var f="disabled",k=this.$element,j=k.data(),h=k.is("input")?"val":"html";g+="Text",j.resetText||k.data("resetText",k[h]()),k[h](j[g]||this.options[g]),setTimeout(function(){g=="loadingText"?k.addClass(f).attr(f,f):k.removeClass(f).removeAttr(f)},0)},c.prototype.toggle=function(){var b=this.$element.parent('[data-toggle="buttons-radio"]');b&&b.find(".active").removeClass("active"),this.$element.toggleClass("active")},d.fn.button=function(a){return this.each(function(){var h=d(this),g=h.data("button"),b=typeof a=="object"&&a;g||h.data("button",g=new c(this,b)),a=="toggle"?g.toggle():a&&g.setState(a)})},d.fn.button.defaults={loadingText:"loading..."},d.fn.button.Constructor=c,d(function(){d("body").on("click.button.data-api","[data-toggle^=button]",function(a){var e=d(a.target);e.hasClass("btn")||(e=e.closest(".btn")),e.button("toggle")})})}(window.jQuery),!function(d){var c=function(a,e){this.$element=d(a),this.options=e,this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",d.proxy(this.pause,this)).on("mouseleave",d.proxy(this.cycle,this))};c.prototype={cycle:function(a){return a||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},to:function(a){var k=this.$element.find(".active"),j=k.parent().children(),h=j.index(k),g=this;if(a>j.length-1||a<0){return}return this.sliding?this.$element.one("slid",function(){g.to(a)}):h==a?this.pause().cycle():this.slide(a>h?"next":"prev",d(j[a]))},pause:function(b){return b||(this.paused=!0),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding){return}return this.slide("next")},prev:function(){if(this.sliding){return}return this.slide("prev")},slide:function(r,q){var p=this.$element.find(".active"),o=q||p[r](),n=this.interval,m=r=="next"?"left":"right",l=r=="next"?"first":"last",k=this,a=d.Event("slide");this.sliding=!0,n&&this.pause(),o=o.length?o:this.$element.find(".item")[l]();if(o.hasClass("active")){return}if(d.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(a);if(a.isDefaultPrevented()){return}o.addClass(r),o[0].offsetWidth,p.addClass(m),o.addClass(m),this.$element.one(d.support.transition.end,function(){o.removeClass([r,m].join(" ")).addClass("active"),p.removeClass(["active",m].join(" ")),k.sliding=!1,setTimeout(function(){k.$element.trigger("slid")},0)})}else{this.$element.trigger(a);if(a.isDefaultPrevented()){return}p.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return n&&this.cycle(),this}},d.fn.carousel=function(a){return this.each(function(){var h=d(this),g=h.data("carousel"),b=d.extend({},d.fn.carousel.defaults,typeof a=="object"&&a);g||h.data("carousel",g=new c(this,b)),typeof a=="number"?g.to(a):typeof a=="string"||(a=b.slide)?g[a]():b.interval&&g.cycle()})},d.fn.carousel.defaults={interval:5000,pause:"hover"},d.fn.carousel.Constructor=c,d(function(){d("body").on("click.carousel.data-api","[data-slide]",function(a){var k=d(this),j,h=d(k.attr("data-target")||(j=k.attr("href"))&&j.replace(/.*(?=#[^\s]+$)/,"")),g=!h.data("modal")&&d.extend({},h.data(),k.data());h.carousel(g),a.preventDefault()})})}(window.jQuery),!function(d){var c=function(a,e){this.$element=d(a),this.options=d.extend({},d.fn.collapse.defaults,e),this.options.parent&&(this.$parent=d(this.options.parent)),this.options.toggle&&this.toggle()};c.prototype={constructor:c,dimension:function(){var b=this.$element.hasClass("width");return b?"width":"height"},show:function(){var a,h,g,f;if(this.transitioning){return}a=this.dimension(),h=d.camelCase(["scroll",a].join("-")),g=this.$parent&&this.$parent.find("> .accordion-group > .in");if(g&&g.length){f=g.data("collapse");if(f&&f.transitioning){return}g.collapse("hide"),f||g.data("collapse",null)}this.$element[a](0),this.transition("addClass",d.Event("show"),"shown"),this.$element[a](this.$element[0][h])},hide:function(){var a;if(this.transitioning){return}a=this.dimension(),this.reset(this.$element[a]()),this.transition("removeClass",d.Event("hide"),"hidden"),this.$element[a](0)},reset:function(f){var e=this.dimension();return this.$element.removeClass("collapse")[e](f||"auto")[0].offsetWidth,this.$element[f!==null?"addClass":"removeClass"]("collapse"),this},transition:function(a,k,j){var h=this,g=function(){k.type=="show"&&h.reset(),h.transitioning=0,h.$element.trigger(j)};this.$element.trigger(k);if(k.isDefaultPrevented()){return}this.transitioning=1,this.$element[a]("in"),d.support.transition&&this.$element.hasClass("collapse")?this.$element.one(d.support.transition.end,g):g()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},d.fn.collapse=function(a){return this.each(function(){var h=d(this),g=h.data("collapse"),b=typeof a=="object"&&a;g||h.data("collapse",g=new c(this,b)),typeof a=="string"&&g[a]()})},d.fn.collapse.defaults={toggle:!0},d.fn.collapse.Constructor=c,d(function(){d("body").on("click.collapse.data-api","[data-toggle=collapse]",function(a){var k=d(this),j,h=k.attr("data-target")||a.preventDefault()||(j=k.attr("href"))&&j.replace(/.*(?=#[^\s]+$)/,""),g=d(h).data("collapse")?"toggle":k.data();d(h).collapse(g)})})}(window.jQuery),!function(f){function g(){f(e).parent().removeClass("open")}"use strict";var e='[data-toggle="dropdown"]',h=function(a){var d=f(a).on("click.dropdown.data-api",this.toggle);f("html").on("click.dropdown.data-api",function(){d.parent().removeClass("open")})};h.prototype={constructor:h,toggle:function(a){var l=f(this),k,j,d;if(l.is(".disabled, :disabled")){return}return j=l.attr("data-target"),j||(j=l.attr("href"),j=j&&j.replace(/.*(?=#[^\s]*$)/,"")),k=f(j),k.length||(k=l.parent()),d=k.hasClass("open"),g(),d||k.toggleClass("open"),!1}},f.fn.dropdown=function(a){return this.each(function(){var c=f(this),b=c.data("dropdown");b||c.data("dropdown",b=new h(this)),typeof a=="string"&&b[a].call(c)})},f.fn.dropdown.Constructor=h,f(function(){f("html").on("click.dropdown.data-api",g),f("body").on("click.dropdown",".dropdown form",function(b){b.stopPropagation()}).on("click.dropdown.data-api",e,h.prototype.toggle)})}(window.jQuery),!function(j){function o(){var a=this,d=setTimeout(function(){a.$element.off(j.support.transition.end),n.call(a)},500);this.$element.one(j.support.transition.end,function(){clearTimeout(d),n.call(a)})}function n(b){this.$element.hide().trigger("hidden"),m.call(this)}function m(a){var p=this,g=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=j.support.transition&&g;this.$backdrop=j('<div class="modal-backdrop '+g+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(j.proxy(this.hide,this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),f?this.$backdrop.one(j.support.transition.end,a):a()}else{!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),j.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(j.support.transition.end,j.proxy(l,this)):l.call(this)):a&&a()}}function l(){this.$backdrop.remove(),this.$backdrop=null}function k(){var a=this;this.isShown&&this.options.keyboard?j(document).on("keyup.dismiss.modal",function(b){b.which==27&&a.hide()}):this.isShown||j(document).off("keyup.dismiss.modal")}"use strict";var h=function(a,d){this.options=d,this.$element=j(a).delegate('[data-dismiss="modal"]',"click.dismiss.modal",j.proxy(this.hide,this))};h.prototype={constructor:h,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var a=this,d=j.Event("show");this.$element.trigger(d);if(this.isShown||d.isDefaultPrevented()){return}j("body").addClass("modal-open"),this.isShown=!0,k.call(this),m.call(this,function(){var b=j.support.transition&&a.$element.hasClass("fade");a.$element.parent().length||a.$element.appendTo(document.body),a.$element.show(),b&&a.$element[0].offsetWidth,a.$element.addClass("in"),b?a.$element.one(j.support.transition.end,function(){a.$element.trigger("shown")}):a.$element.trigger("shown")})},hide:function(a){a&&a.preventDefault();var c=this;a=j.Event("hide"),this.$element.trigger(a);if(!this.isShown||a.isDefaultPrevented()){return}this.isShown=!1,j("body").removeClass("modal-open"),k.call(this),this.$element.removeClass("in"),j.support.transition&&this.$element.hasClass("fade")?o.call(this):n.call(this)}},j.fn.modal=function(a){return this.each(function(){var g=j(this),c=g.data("modal"),b=j.extend({},j.fn.modal.defaults,g.data(),typeof a=="object"&&a);c||g.data("modal",c=new h(this,b)),typeof a=="string"?c[a]():b.show&&c.show()})},j.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},j.fn.modal.Constructor=h,j(function(){j("body").on("click.modal.data-api",'[data-toggle="modal"]',function(a){var r=j(this),q,p=j(r.attr("data-target")||(q=r.attr("href"))&&q.replace(/.*(?=#[^\s]+$)/,"")),g=p.data("modal")?"toggle":j.extend({},p.data(),r.data());a.preventDefault(),p.modal(g)})})}(window.jQuery),!function(d){var c=function(f,e){this.init("tooltip",f,e)};c.prototype={constructor:c,init:function(a,k,j){var h,g;this.type=a,this.$element=d(k),this.options=this.getOptions(j),this.enabled=!0,this.options.trigger!="manual"&&(h=this.options.trigger=="hover"?"mouseenter":"focus",g=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(h,this.options.selector,d.proxy(this.enter,this)),this.$element.on(g,this.options.selector,d.proxy(this.leave,this))),this.options.selector?this._options=d.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(a){return a=d.extend({},d.fn[this.type].defaults,a,this.$element.data()),a.delay&&typeof a.delay=="number"&&(a.delay={show:a.delay,hide:a.delay}),a},enter:function(a){var e=d(a.currentTarget)[this.type](this._options).data(this.type);if(!e.options.delay||!e.options.delay.show){return e.show()}clearTimeout(this.timeout),e.hoverState="in",this.timeout=setTimeout(function(){e.hoverState=="in"&&e.show()},e.options.delay.show)},leave:function(a){var e=d(a.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!e.options.delay||!e.options.delay.hide){return e.hide()}e.hoverState="out",this.timeout=setTimeout(function(){e.hoverState=="out"&&e.hide()},e.options.delay.hide)},show:function(){var j,h,o,n,m,l,k;if(this.hasContent()&&this.enabled){j=this.tip(),this.setContent(),this.options.animation&&j.addClass("fade"),l=typeof this.options.placement=="function"?this.options.placement.call(this,j[0],this.$element[0]):this.options.placement,h=/in/.test(l),j.remove().css({top:0,left:0,display:"block"}).appendTo(h?this.$element:document.body),o=this.getPosition(h),n=j[0].offsetWidth,m=j[0].offsetHeight;switch(h?l.split(" ")[1]:l){case"bottom":k={top:o.top+o.height,left:o.left+o.width/2-n/2};break;case"top":k={top:o.top-m,left:o.left+o.width/2-n/2};break;case"left":k={top:o.top+o.height/2-m/2,left:o.left-n};break;case"right":k={top:o.top+o.height/2-m/2,left:o.left+o.width}}j.css(k).addClass(l).addClass("in")}},isHTML:function(b){return typeof b!="string"||b.charAt(0)==="<"&&b.charAt(b.length-1)===">"&&b.length>=3||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(b)},setContent:function(){var f=this.tip(),e=this.getTitle();f.find(".tooltip-inner")[this.isHTML(e)?"html":"text"](e),f.removeClass("fade in top bottom left right")},hide:function(){function e(){var g=setTimeout(function(){f.off(d.support.transition.end).remove()},500);f.one(d.support.transition.end,function(){clearTimeout(g),f.remove()})}var a=this,f=this.tip();f.removeClass("in"),d.support.transition&&this.$tip.hasClass("fade")?e():f.remove()},fixTitle:function(){var b=this.$element;(b.attr("title")||typeof b.attr("data-original-title")!="string")&&b.attr("data-original-title",b.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(a){return d.extend({},a?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var f,e=this.$element,g=this.options;return f=e.attr("data-original-title")||(typeof g.title=="function"?g.title.call(e[0]):g.title),f},tip:function(){return this.$tip=this.$tip||d(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},d.fn.tooltip=function(a){return this.each(function(){var h=d(this),g=h.data("tooltip"),b=typeof a=="object"&&a;g||h.data("tooltip",g=new c(this,b)),typeof a=="string"&&g[a]()})},d.fn.tooltip.Constructor=c,d.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0}}(window.jQuery),!function(d){var c=function(f,e){this.init("popover",f,e)};c.prototype=d.extend({},d.fn.tooltip.Constructor.prototype,{constructor:c,setContent:function(){var f=this.tip(),e=this.getTitle(),g=this.getContent();f.find(".popover-title")[this.isHTML(e)?"html":"text"](e),f.find(".popover-content > *")[this.isHTML(g)?"html":"text"](g),f.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var f,e=this.$element,g=this.options;return f=e.attr("data-content")||(typeof g.content=="function"?g.content.call(e[0]):g.content),f},tip:function(){return this.$tip||(this.$tip=d(this.options.template)),this.$tip}}),d.fn.popover=function(a){return this.each(function(){var h=d(this),g=h.data("popover"),b=typeof a=="object"&&a;g||h.data("popover",g=new c(this,b)),typeof a=="string"&&g[a]()})},d.fn.popover.Constructor=c,d.fn.popover.defaults=d.extend({},d.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(d){function c(a,k){var j=d.proxy(this.process,this),h=d(a).is("body")?d(window):d(a),g;this.options=d.extend({},d.fn.scrollspy.defaults,k),this.$scrollElement=h.on("scroll.scroll.data-api",j),this.selector=(this.options.target||(g=d(a).attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=d("body"),this.refresh(),this.process()}"use strict",c.prototype={constructor:c,refresh:function(){var a=this,e;this.offsets=d([]),this.targets=d([]),e=this.$body.find(this.selector).map(function(){var f=d(this),h=f.data("target")||f.attr("href"),g=/^#\w/.test(h)&&d(h);return g&&h.length&&[[g.position().top,h]]||null}).sort(function(g,f){return g[0]-f[0]}).each(function(){a.offsets.push(this[0]),a.targets.push(this[1])})},process:function(){var j=this.$scrollElement.scrollTop()+this.options.offset,h=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,o=h-this.$scrollElement.height(),n=this.offsets,m=this.targets,l=this.activeTarget,k;if(j>=o){return l!=(k=m.last()[0])&&this.activate(k)}for(k=n.length;k--;){l!=m[k]&&j>=n[k]&&(!n[k+1]||j<=n[k+1])&&this.activate(m[k])}},activate:function(a){var f,e;this.activeTarget=a,d(this.selector).parent(".active").removeClass("active"),e=this.selector+'[data-target="'+a+'"],'+this.selector+'[href="'+a+'"]',f=d(e).parent("li").addClass("active"),f.parent(".dropdown-menu")&&(f=f.closest("li.dropdown").addClass("active")),f.trigger("activate")}},d.fn.scrollspy=function(a){return this.each(function(){var h=d(this),g=h.data("scrollspy"),b=typeof a=="object"&&a;g||h.data("scrollspy",g=new c(this,b)),typeof a=="string"&&g[a]()})},d.fn.scrollspy.Constructor=c,d.fn.scrollspy.defaults={offset:10},d(function(){d('[data-spy="scroll"]').each(function(){var a=d(this);a.scrollspy(a.data())})})}(window.jQuery),!function(d){var c=function(a){this.element=d(a)};c.prototype={constructor:c,show:function(){var a=this.element,m=a.closest("ul:not(.dropdown-menu)"),l=a.attr("data-target"),k,j,h;l||(l=a.attr("href"),l=l&&l.replace(/.*(?=#[^\s]*$)/,""));if(a.parent("li").hasClass("active")){return}k=m.find(".active a").last()[0],h=d.Event("show",{relatedTarget:k}),a.trigger(h);if(h.isDefaultPrevented()){return}j=d(l),this.activate(a.parent("li"),m),this.activate(j,j.parent(),function(){a.trigger({type:"shown",relatedTarget:k})})},activate:function(a,m,l){function h(){k.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),a.addClass("active"),j?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade"),a.parent(".dropdown-menu")&&a.closest("li.dropdown").addClass("active"),l&&l()}var k=m.find("> .active"),j=l&&d.support.transition&&k.hasClass("fade");j?k.one(d.support.transition.end,h):h(),k.removeClass("in")}},d.fn.tab=function(a){return this.each(function(){var f=d(this),b=f.data("tab");b||f.data("tab",b=new c(this)),typeof a=="string"&&b[a]()})},d.fn.tab.Constructor=c,d(function(){d("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(a){a.preventDefault(),d(this).tab("show")})})}(window.jQuery),!function(d){var c=function(a,e){this.$element=d(a),this.options=d.extend({},d.fn.typeahead.defaults,e),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=d(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};c.prototype={constructor:c,select:function(){var b=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(b)).change(),this.hide()},updater:function(b){return b},show:function(){var a=d.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:a.top+a.height,left:a.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(a){var h=this,g,f;return this.query=this.$element.val(),this.query?(g=d.grep(this.source,function(b){return h.matcher(b)}),g=this.sorter(g),g.length?this.render(g.slice(0,this.options.items)).show():this.shown?this.hide():this):this.shown?this.hide():this},matcher:function(b){return ~b.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(g){var f=[],k=[],j=[],h;while(h=g.shift()){h.toLowerCase().indexOf(this.query.toLowerCase())?~h.indexOf(this.query)?k.push(h):j.push(h):f.push(h)}return f.concat(k,j)},highlighter:function(f){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return f.replace(new RegExp("("+e+")","ig"),function(h,g){return"<strong>"+g+"</strong>"})},render:function(a){var e=this;return a=d(a).map(function(f,g){return f=d(e.options.item).attr("data-value",g),f.find("a").html(e.highlighter(g)),f[0]}),a.first().addClass("active"),this.$menu.html(a),this},next:function(a){var f=this.$menu.find(".active").removeClass("active"),e=f.next();e.length||(e=d(this.$menu.find("li")[0])),e.addClass("active")},prev:function(f){var e=this.$menu.find(".active").removeClass("active"),g=e.prev();g.length||(g=this.$menu.find("li").last()),g.addClass("active")},listen:function(){this.$element.on("blur",d.proxy(this.blur,this)).on("keypress",d.proxy(this.keypress,this)).on("keyup",d.proxy(this.keyup,this)),(d.browser.webkit||d.browser.msie)&&this.$element.on("keydown",d.proxy(this.keypress,this)),this.$menu.on("click",d.proxy(this.click,this)).on("mouseenter","li",d.proxy(this.mouseenter,this))},keyup:function(b){switch(b.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown){return}this.select();break;case 27:if(!this.shown){return}this.hide();break;default:this.lookup()}b.stopPropagation(),b.preventDefault()},keypress:function(b){if(!this.shown){return}switch(b.keyCode){case 9:case 13:case 27:b.preventDefault();break;case 38:if(b.type!="keydown"){break}b.preventDefault(),this.prev();break;case 40:if(b.type!="keydown"){break}b.preventDefault(),this.next()}b.stopPropagation()},blur:function(f){var e=this;setTimeout(function(){e.hide()},150)},click:function(b){b.stopPropagation(),b.preventDefault(),this.select()},mouseenter:function(a){this.$menu.find(".active").removeClass("active"),d(a.currentTarget).addClass("active")}},d.fn.typeahead=function(a){return this.each(function(){var h=d(this),g=h.data("typeahead"),b=typeof a=="object"&&a;g||h.data("typeahead",g=new c(this,b)),typeof a=="string"&&g[a]()})},d.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'},d.fn.typeahead.Constructor=c,d(function(){d("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(a){var e=d(this);if(e.data("typeahead")){return}a.preventDefault(),e.typeahead(e.data())})})}(window.jQuery);(function(){var a=jQuery.event.special,c="D"+(+new Date()),b="D"+(+new Date()+1);a.scrollstart={setup:function(){var e,d=function(h){var f=this,g=arguments;if(e){clearTimeout(e)}else{h.type="scrollstart";jQuery.event.handle.apply(f,g)}e=setTimeout(function(){e=null},a.scrollstop.latency)};jQuery(this).bind("scroll",d).data(c,d)},teardown:function(){jQuery(this).unbind("scroll",jQuery(this).data(c))}};a.scrollstop={latency:300,setup:function(){var e,d=function(h){var f=this,g=arguments;if(e){clearTimeout(e)}e=setTimeout(function(){e=null;h.type="scrollstop";jQuery.event.handle.apply(f,g)},a.scrollstop.latency)};jQuery(this).bind("scroll",d).data(b,d)},teardown:function(){jQuery(this).unbind("scroll",jQuery(this).data(b))}}})();
/*!
* MediaElement.js
* HTML5 <video> and <audio> shim and player
* http://mediaelementjs.com/
*
* Creates a JavaScript object that mimics HTML5 MediaElement API
* for browsers that don't understand HTML5 or can't play the provided codec
* Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
*
* Copyright 2010-2012, John Dyer (http://j.hn)
* Dual licensed under the MIT or GPL Version 2 licenses.
*
*/
var mejs=mejs||{};mejs.version="2.9.1";mejs.meIndex=0;mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo"]}]};mejs.Utility={encodeUrl:function(b){return encodeURIComponent(b)},escapeHTML:function(b){return b.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(d){var c=document.createElement("div");c.innerHTML='<a href="'+this.escapeHTML(d)+'">x</a>';return c.firstChild.href},getScriptPath:function(s){for(var r=0,q,p="",o="",m,n=document.getElementsByTagName("script"),k=n.length,l=s.length;r<k;r++){m=n[r].src;for(q=0;q<l;q++){o=s[q];if(m.indexOf(o)>-1){p=m.substring(0,m.indexOf(o));break}}if(p!==""){break}}return p},secondsToTimeCode:function(j,h,o,n){if(typeof o=="undefined"){o=false}else{if(typeof n=="undefined"){n=25}}var m=Math.floor(j/3600)%24,k=Math.floor(j/60)%60,l=Math.floor(j%60);j=Math.floor((j%1*n).toFixed(3));return(h||m>0?(m<10?"0"+m:m)+":":"")+(k<10?"0"+k:k)+":"+(l<10?"0"+l:l)+(o?":"+(j<10?"0"+j:j):"")},timeCodeToSeconds:function(k,h,q,p){if(typeof q=="undefined"){q=false}else{if(typeof p=="undefined"){p=25}}k=k.split(":");h=parseInt(k[0],10);var o=parseInt(k[1],10),m=parseInt(k[2],10),n=0,l=0;if(q){n=parseInt(k[3])/p}return l=h*3600+o*60+m+n},removeSwf:function(d){var c=document.getElementById(d);if(c&&c.nodeName=="OBJECT"){if(mejs.MediaFeatures.isIE){c.style.display="none";(function(){c.readyState==4?mejs.Utility.removeObjectInIE(d):setTimeout(arguments.callee,10)})()}else{c.parentNode.removeChild(c)}}},removeObjectInIE:function(d){if(d=document.getElementById(d)){for(var c in d){if(typeof d[c]=="function"){d[c]=null}}d.parentNode.removeChild(d)}}};mejs.PluginDetector={hasPluginVersion:function(e,d){var f=this.plugins[e];d[1]=d[1]||0;d[2]=d[2]||0;return f[0]>d[0]||f[0]==d[0]&&f[1]>d[1]||f[0]==d[0]&&f[1]==d[1]&&f[2]>=d[2]?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(g,f,k,j,h){this.plugins[g]=this.detectPlugin(f,k,j,h)},detectPlugin:function(j,h,o,n){var m=[0,0,0],k;if(typeof this.nav.plugins!="undefined"&&typeof this.nav.plugins[j]=="object"){if((o=this.nav.plugins[j].description)&&!(typeof this.nav.mimeTypes!="undefined"&&this.nav.mimeTypes[h]&&!this.nav.mimeTypes[h].enabledPlugin)){m=o.replace(j,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(j=0;j<m.length;j++){m[j]=parseInt(m[j].match(/\d+/),10)}}}else{if(typeof window.ActiveXObject!="undefined"){try{if(k=new ActiveXObject(o)){m=n(k)}}catch(l){}}}return m}};mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(d){var c=[];if(d=d.GetVariable("$version")){d=d.split(" ")[1].split(",");c=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)]}return c});mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(e){var d=[0,0,0,0],f=function(h,c,a,b){for(;h.isVersionSupported(c[0]+"."+c[1]+"."+c[2]+"."+c[3]);){c[a]+=b}c[a]-=b};f(e,d,0,1);f(e,d,1,1);f(e,d,2,10000);f(e,d,2,1000);f(e,d,2,100);f(e,d,2,10);f(e,d,2,1);f(e,d,3,1);return d});mejs.MediaFeatures={init:function(){var h=this,f=document,m=mejs.PluginDetector.nav,l=mejs.PluginDetector.ua.toLowerCase(),k,j=["source","track","audio","video"];h.isiPad=l.match(/ipad/i)!==null;h.isiPhone=l.match(/iphone/i)!==null;h.isiOS=h.isiPhone||h.isiPad;h.isAndroid=l.match(/android/i)!==null;h.isBustedAndroid=l.match(/android 2\.[12]/)!==null;h.isIE=m.appName.toLowerCase().indexOf("microsoft")!=-1;h.isChrome=l.match(/chrome/gi)!==null;h.isFirefox=l.match(/firefox/gi)!==null;h.isWebkit=l.match(/webkit/gi)!==null;h.isGecko=l.match(/gecko/gi)!==null&&!h.isWebkit;h.isOpera=l.match(/opera/gi)!==null;h.hasTouch="ontouchstart" in window;for(m=0;m<j.length;m++){k=document.createElement(j[m])}h.supportsMediaTag=typeof k.canPlayType!=="undefined"||h.isBustedAndroid;h.hasSemiNativeFullScreen=typeof k.webkitEnterFullscreen!=="undefined";h.hasWebkitNativeFullScreen=typeof k.webkitRequestFullScreen!=="undefined";h.hasMozNativeFullScreen=typeof k.mozRequestFullScreen!=="undefined";h.hasTrueNativeFullScreen=h.hasWebkitNativeFullScreen||h.hasMozNativeFullScreen;h.nativeFullScreenEnabled=h.hasTrueNativeFullScreen;if(h.hasMozNativeFullScreen){h.nativeFullScreenEnabled=k.mozFullScreenEnabled}if(this.isChrome){h.hasSemiNativeFullScreen=false}if(h.hasTrueNativeFullScreen){h.fullScreenEventName=h.hasWebkitNativeFullScreen?"webkitfullscreenchange":"mozfullscreenchange";h.isFullScreen=function(){if(k.mozRequestFullScreen){return f.mozFullScreen}else{if(k.webkitRequestFullScreen){return f.webkitIsFullScreen}}};h.requestFullScreen=function(a){if(h.hasWebkitNativeFullScreen){a.webkitRequestFullScreen()}else{h.hasMozNativeFullScreen&&a.mozRequestFullScreen()}};h.cancelFullScreen=function(){if(h.hasWebkitNativeFullScreen){document.webkitCancelFullScreen()}else{h.hasMozNativeFullScreen&&document.mozCancelFullScreen()}}}if(h.hasSemiNativeFullScreen&&l.match(/mac os x 10_5/i)){h.hasNativeFullScreen=false;h.hasSemiNativeFullScreen=false}}};mejs.MediaFeatures.init();mejs.HtmlMediaElement={pluginType:"native",isFullScreen:false,setCurrentTime:function(b){this.currentTime=b},setMuted:function(b){this.muted=b},setVolume:function(b){this.volume=b},stop:function(){this.pause()},setSrc:function(e){for(var d=this.getElementsByTagName("source");d.length>0;){this.removeChild(d[0])}if(typeof e=="string"){this.src=e}else{var f;for(d=0;d<e.length;d++){f=e[d];if(this.canPlayType(f.type)){this.src=f.src}}}},setVideoSize:function(d,c){this.width=d;this.height=c}};mejs.PluginMediaElement=function(e,d,f){this.id=e;this.pluginType=d;this.src=f;this.events={}};mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,tagName:"",muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.playVideo():this.pluginApi.playMedia();this.paused=false}},load:function(){if(this.pluginApi!=null){this.pluginType!="youtube"&&this.pluginApi.loadMedia();this.paused=false}},pause:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia();this.paused=true}},stop:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.stopVideo():this.pluginApi.stopMedia();this.paused=true}},canPlayType:function(g){var f,k,j,h=mejs.plugins[this.pluginType];for(f=0;f<h.length;f++){j=h[f];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,j.version)){for(k=0;k<j.types.length;k++){if(g==j.types[k]){return true}}}}return false},positionFullscreenButton:function(e,d,f){this.pluginApi!=null&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(e,d,f)},hideFullscreenButton:function(){this.pluginApi!=null&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(e){if(typeof e=="string"){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(e));this.src=mejs.Utility.absolutizeUrl(e)}else{var d,f;for(d=0;d<e.length;d++){f=e[d];if(this.canPlayType(f.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(f.src));this.src=mejs.Utility.absolutizeUrl(e)}}}},setCurrentTime:function(b){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.seekTo(b):this.pluginApi.setCurrentTime(b);this.currentTime=b}},setVolume:function(b){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.setVolume(b*100):this.pluginApi.setVolume(b);this.volume=b}},setMuted:function(b){if(this.pluginApi!=null){if(this.pluginType=="youtube"){b?this.pluginApi.mute():this.pluginApi.unMute();this.muted=b;this.dispatchEvent("volumechange")}else{this.pluginApi.setMuted(b)}this.muted=b}},setVideoSize:function(d,c){if(this.pluginElement.style){this.pluginElement.style.width=d+"px";this.pluginElement.style.height=c+"px"}this.pluginApi!=null&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(d,c)},setFullscreen:function(b){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(b)},enterFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(true)},exitFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(false)},addEventListener:function(d,c){this.events[d]=this.events[d]||[];this.events[d].push(c)},removeEventListener:function(e,d){if(!e){this.events={};return true}var f=this.events[e];if(!f){return true}if(!d){this.events[e]=[];return true}for(i=0;i<f.length;i++){if(f[i]===d){this.events[e].splice(i,1);return true}}return false},dispatchEvent:function(f){var e,h,g=this.events[f];if(g){h=Array.prototype.slice.call(arguments,1);for(e=0;e<g.length;e++){g[e].apply(null,h)}}},attributes:{},hasAttribute:function(b){return b in this.attributes},removeAttribute:function(b){delete this.attributes[b]},getAttribute:function(b){if(this.hasAttribute(b)){return this.attributes[b]}return""},setAttribute:function(d,c){this.attributes[d]=c},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id)}};mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(e,d,f){this.pluginMediaElements[e]=d;this.htmlMediaElements[e]=f},initPlugin:function(e){var d=this.pluginMediaElements[e],f=this.htmlMediaElements[e];if(d){switch(d.pluginType){case"flash":d.pluginElement=d.pluginApi=document.getElementById(e);break;case"silverlight":d.pluginElement=document.getElementById(d.id);d.pluginApi=d.pluginElement.Content.MediaElementJS}d.pluginApi!=null&&d.success&&d.success(d,f)}},fireEvent:function(g,f,k){var j,h;g=this.pluginMediaElements[g];g.ended=false;g.paused=true;f={type:f,target:g};for(j in k){g[j]=k[j];f[j]=k[j]}h=k.bufferedTime||0;f.target.buffered=f.buffered={start:function(){return 0},end:function(){return h},length:1};g.dispatchEvent(f.type,f)}};mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:false,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",enablePluginSmoothing:false,silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:0.8,success:function(){},error:function(){}};mejs.MediaElement=function(d,c){return mejs.HtmlMediaElementShim.create(d,c)};mejs.HtmlMediaElementShim={create:function(w,v){var u=mejs.MediaElementDefaults,t=typeof w=="string"?document.getElementById(w):w,s=t.tagName.toLowerCase(),q=s==="audio"||s==="video",r=q?t.getAttribute("src"):t.getAttribute("href");s=t.getAttribute("poster");var o=t.getAttribute("autoplay"),p=t.getAttribute("preload"),m=t.getAttribute("controls"),n;for(n in v){u[n]=v[n]}r=typeof r=="undefined"||r===null||r==""?null:r;s=typeof s=="undefined"||s===null?"":s;p=typeof p=="undefined"||p===null||p==="false"?"none":p;o=!(typeof o=="undefined"||o===null||o==="false");m=!(typeof m=="undefined"||m===null||m==="false");n=this.determinePlayback(t,u,mejs.MediaFeatures.supportsMediaTag,q,r);n.url=n.url!==null?mejs.Utility.absolutizeUrl(n.url):"";if(n.method=="native"){if(mejs.MediaFeatures.isBustedAndroid){t.src=n.url;t.addEventListener("click",function(){t.play()},false)}return this.updateNative(n,u,o,p)}else{if(n.method!==""){return this.createPlugin(n,u,s,o,p,m)}else{this.createErrorMessage(n,u,s);return this}}},determinePlayback:function(w,v,u,t,s){var q=[],r,o,p={method:"",url:"",htmlMediaElement:w,isVideo:w.tagName.toLowerCase()!="audio"},m,n;if(typeof v.type!="undefined"&&v.type!==""){if(typeof v.type=="string"){q.push({type:v.type,url:s})}else{for(r=0;r<v.type.length;r++){q.push({type:v.type[r],url:s})}}}else{if(s!==null){o=this.formatType(s,w.getAttribute("type"));q.push({type:o,url:s})}else{for(r=0;r<w.childNodes.length;r++){o=w.childNodes[r];if(o.nodeType==1&&o.tagName.toLowerCase()=="source"){s=o.getAttribute("src");o=this.formatType(s,o.getAttribute("type"));q.push({type:o,url:s})}}}}if(!t&&q.length>0&&q[0].url!==null&&this.getTypeFromFile(q[0].url).indexOf("audio")>-1){p.isVideo=false}if(mejs.MediaFeatures.isBustedAndroid){w.canPlayType=function(a){return a.match(/video\/(mp4|m4v)/gi)!==null?"maybe":""}}if(u&&(v.mode==="auto"||v.mode==="native")){if(!t){r=document.createElement(p.isVideo?"video":"audio");w.parentNode.insertBefore(r,w);w.style.display="none";p.htmlMediaElement=w=r}for(r=0;r<q.length;r++){if(w.canPlayType(q[r].type).replace(/no/,"")!==""||w.canPlayType(q[r].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""){p.method="native";p.url=q[r].url;break}}if(p.method==="native"){if(p.url!==null){w.src=p.url}return p}}if(v.mode==="auto"||v.mode==="shim"){for(r=0;r<q.length;r++){o=q[r].type;for(w=0;w<v.plugins.length;w++){s=v.plugins[w];m=mejs.plugins[s];for(u=0;u<m.length;u++){n=m[u];if(n.version==null||mejs.PluginDetector.hasPluginVersion(s,n.version)){for(t=0;t<n.types.length;t++){if(o==n.types[t]){p.method=s;p.url=q[r].url;return p}}}}}}}if(p.method===""&&q.length>0){p.url=q[0].url}return p},formatType:function(d,c){return d&&!c?this.getTypeFromFile(d):c&&~c.indexOf(";")?c.substr(0,c.indexOf(";")):c},getTypeFromFile:function(b){b=b.substring(b.lastIndexOf(".")+1);return(/(mp4|m4v|ogg|ogv|webm|flv|wmv|mpeg|mov)/gi.test(b)?"video":"audio")+"/"+b},createErrorMessage:function(h,f,m){var l=h.htmlMediaElement,k=document.createElement("div");k.className="me-cannotplay";try{k.style.width=l.width+"px";k.style.height=l.height+"px"}catch(j){}k.innerHTML=m!==""?'<a href="'+h.url+'"><img src="'+m+'" width="100%" height="100%" /></a>':'<a href="'+h.url+'"><span>Download File</span></a>';l.parentNode.insertBefore(k,l);l.style.display="none";f.error(l)},createPlugin:function(A,z,y,x,w,u){y=A.htmlMediaElement;var v=1,s=1,t="me_"+A.method+"_"+mejs.meIndex++,q=new mejs.PluginMediaElement(t,A.method,A.url),r=document.createElement("div"),p;q.tagName=y.tagName;for(p=0;p<y.attributes.length;p++){var o=y.attributes[p];o.specified==true&&q.setAttribute(o.name,o.value)}for(p=y.parentNode;p!==null&&p.tagName.toLowerCase()!="body";){if(p.parentNode.tagName.toLowerCase()=="p"){p.parentNode.parentNode.insertBefore(p,p.parentNode);break}p=p.parentNode}if(A.isVideo){v=z.videoWidth>0?z.videoWidth:y.getAttribute("width")!==null?y.getAttribute("width"):z.defaultVideoWidth;s=z.videoHeight>0?z.videoHeight:y.getAttribute("height")!==null?y.getAttribute("height"):z.defaultVideoHeight;v=mejs.Utility.encodeUrl(v);s=mejs.Utility.encodeUrl(s)}else{if(z.enablePluginDebug){v=320;s=240}}q.success=z.success;mejs.MediaPluginBridge.registerPluginElement(t,q,y);r.className="me-plugin";r.id=t+"_container";A.isVideo?y.parentNode.insertBefore(r,y):document.body.insertBefore(r,document.body.childNodes[0]);x=["id="+t,"isvideo="+(A.isVideo?"true":"false"),"autoplay="+(x?"true":"false"),"preload="+w,"width="+v,"startvolume="+z.startVolume,"timerrate="+z.timerRate,"height="+s];if(A.url!==null){A.method=="flash"?x.push("file="+mejs.Utility.encodeUrl(A.url)):x.push("file="+A.url)}z.enablePluginDebug&&x.push("debug=true");z.enablePluginSmoothing&&x.push("smoothing=true");u&&x.push("controls=true");if(z.pluginVars){x=x.concat(z.pluginVars)}switch(A.method){case"silverlight":r.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+t+'" name="'+t+'" width="'+v+'" height="'+s+'"><param name="initParams" value="'+x.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+z.pluginPath+z.silverlightName+'" /></object>';break;case"flash":if(mejs.MediaFeatures.isIE){A=document.createElement("div");r.appendChild(A);A.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+t+'" width="'+v+'" height="'+s+'"><param name="movie" value="'+z.pluginPath+z.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+x.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else{r.innerHTML='<embed id="'+t+'" name="'+t+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+z.pluginPath+z.flashName+'" flashvars="'+x.join("&")+'" width="'+v+'" height="'+s+'"></embed>'}break;case"youtube":z=A.url.substr(A.url.lastIndexOf("=")+1);youtubeSettings={container:r,containerId:r.id,pluginMediaElement:q,pluginId:t,videoId:z,height:s,width:v};mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case"vimeo":console.log("vimeoid");q.vimeoid=A.url.substr(A.url.lastIndexOf("/")+1);r.innerHTML='<object width="'+v+'" height="'+s+'"><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="flashvars" value="api=1" /><param name="movie" value="http://vimeo.com/moogaloop.swf?clip_id='+q.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" /><embed src="//vimeo.com/moogaloop.swf?api=1&amp;clip_id='+q.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="'+v+'" height="'+s+'"></embed></object>'}y.style.display="none";return q},updateNative:function(f,e){var h=f.htmlMediaElement,g;for(g in mejs.HtmlMediaElement){h[g]=mejs.HtmlMediaElement[g]}e.success(h,h);return h}};mejs.YouTubeApi={isIframeStarted:false,isIframeLoaded:false,loadIframeApi:function(){if(!this.isIframeStarted){var d=document.createElement("script");d.src="http://www.youtube.com/player_api";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(d,c);this.isIframeStarted=true}},iframeQueue:[],enqueueIframe:function(b){if(this.isLoaded){this.createIframe(b)}else{this.loadIframeApi();this.iframeQueue.push(b)}},createIframe:function(e){var d=e.pluginMediaElement,f=new YT.Player(e.containerId,{height:e.height,width:e.width,videoId:e.videoId,playerVars:{controls:0},events:{onReady:function(){e.pluginMediaElement.pluginApi=f;mejs.MediaPluginBridge.initPlugin(e.pluginId);setInterval(function(){mejs.YouTubeApi.createEvent(f,d,"timeupdate")},250)},onStateChange:function(a){mejs.YouTubeApi.handleStateChange(a.data,f,d)}}})},createEvent:function(f,e,h){h={type:h,target:e};if(f&&f.getDuration){e.currentTime=h.currentTime=f.getCurrentTime();e.duration=h.duration=f.getDuration();h.paused=e.paused;h.ended=e.ended;h.muted=f.isMuted();h.volume=f.getVolume()/100;h.bytesTotal=f.getVideoBytesTotal();h.bufferedBytes=f.getVideoBytesLoaded();var g=h.bufferedBytes/h.bytesTotal*h.duration;h.target.buffered=h.buffered={start:function(){return 0},end:function(){return g},length:1}}e.dispatchEvent(h.type,h)},iFrameReady:function(){for(this.isIframeLoaded=this.isLoaded=true;this.iframeQueue.length>0;){this.createIframe(this.iframeQueue.pop())}},flashPlayers:{},createFlash:function(e){this.flashPlayers[e.pluginId]=e;var d,f="http://www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+e.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";if(mejs.MediaFeatures.isIE){d=document.createElement("div");e.container.appendChild(d);d.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+e.pluginId+'" width="'+e.width+'" height="'+e.height+'"><param name="movie" value="'+f+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else{e.container.innerHTML='<object type="application/x-shockwave-flash" id="'+e.pluginId+'" data="'+f+'" width="'+e.width+'" height="'+e.height+'" style="visibility: visible; "><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'}},flashReady:function(f){var e=this.flashPlayers[f],h=document.getElementById(f),g=e.pluginMediaElement;g.pluginApi=g.pluginElement=h;mejs.MediaPluginBridge.initPlugin(f);h.cueVideoById(e.videoId);f=e.containerId+"_callback";window[f]=function(a){mejs.YouTubeApi.handleStateChange(a,h,g)};h.addEventListener("onStateChange",f);setInterval(function(){mejs.YouTubeApi.createEvent(h,g,"timeupdate")},250)},handleStateChange:function(e,d,f){switch(e){case -1:f.paused=true;f.ended=true;mejs.YouTubeApi.createEvent(d,f,"loadedmetadata");break;case 0:f.paused=false;f.ended=true;mejs.YouTubeApi.createEvent(d,f,"ended");break;case 1:f.paused=false;f.ended=false;mejs.YouTubeApi.createEvent(d,f,"play");mejs.YouTubeApi.createEvent(d,f,"playing");break;case 2:f.paused=true;f.ended=false;mejs.YouTubeApi.createEvent(d,f,"pause");break;case 3:mejs.YouTubeApi.createEvent(d,f,"progress")}}};function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(b){mejs.YouTubeApi.flashReady(b)}window.mejs=mejs;window.MediaElement=mejs.MediaElement;
/*!
 * MediaElementPlayer
 * http://mediaelementjs.com/
 *
 * Creates a controller bar for HTML5 <video> add <audio> tags
 * using jQuery and MediaElement.js (HTML5 Flash/Silverlight wrapper)
 *
 * Copyright 2010-2012, John Dyer (http://j.hn/)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */
if(typeof jQuery!="undefined"){mejs.$=jQuery}else{if(typeof ender!="undefined"){mejs.$=ender}}(function(a){mejs.MepDefaults={poster:"",defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,audioWidth:-1,audioHeight:-1,startVolume:0.8,loop:false,enableAutosize:true,alwaysShowHours:false,showTimecodeFrameCount:false,framesPerSecond:25,autosizeProgress:true,alwaysShowControls:false,iPadUseNativeControls:false,iPhoneUseNativeControls:false,AndroidUseNativeControls:false,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:true,enableKeyboard:true,pauseOtherPlayers:true,keyActions:[{keys:[32,179],action:function(d,c){c.paused||c.ended?c.play():c.pause()}},{keys:[38],action:function(d,c){c.setVolume(Math.min(c.volume+0.1,1))}},{keys:[40],action:function(d,c){c.setVolume(Math.max(c.volume-0.1,0))}},{keys:[37,227],action:function(d,c){if(!isNaN(c.duration)&&c.duration>0){if(d.isVideo){d.showControls();d.startControlsTimer()}c.setCurrentTime(Math.max(c.currentTime-c.duration*0.05,0))}}},{keys:[39,228],action:function(d,c){if(!isNaN(c.duration)&&c.duration>0){if(d.isVideo){d.showControls();d.startControlsTimer()}c.setCurrentTime(Math.min(c.currentTime+c.duration*0.05,c.duration))}}},{keys:[70],action:function(b){if(typeof b.enterFullScreen!="undefined"){b.isFullScreen?b.exitFullScreen():b.enterFullScreen()}}}]};mejs.mepIndex=0;mejs.players=[];mejs.MediaElementPlayer=function(d,c){if(!(this instanceof mejs.MediaElementPlayer)){return new mejs.MediaElementPlayer(d,c)}this.$media=this.$node=a(d);this.node=this.media=this.$media[0];if(typeof this.node.player!="undefined"){return this.node.player}else{this.node.player=this}if(typeof c=="undefined"){c=this.$node.data("mejsoptions")}this.options=a.extend({},mejs.MepDefaults,c);mejs.players.push(this);this.init();return this};mejs.MediaElementPlayer.prototype={hasFocus:false,controlsAreVisible:true,init:function(){var f=this,e=mejs.MediaFeatures,h=a.extend(true,{},f.options,{success:function(c,b){f.meReady(c,b)},error:function(b){f.handleError(b)}}),g=f.media.tagName.toLowerCase();f.isDynamic=g!=="audio"&&g!=="video";f.isVideo=f.isDynamic?f.options.isVideo:g!=="audio"&&f.options.isVideo;if(e.isiPad&&f.options.iPadUseNativeControls||e.isiPhone&&f.options.iPhoneUseNativeControls){f.$media.attr("controls","controls");if(e.isiPad&&f.media.getAttribute("autoplay")!==null){f.media.load();f.media.play()}}else{if(!(e.isAndroid&&f.AndroidUseNativeControls)){f.$media.removeAttr("controls");f.id="mep_"+mejs.mepIndex++;f.container=a('<div id="'+f.id+'" class="mejs-container"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(f.$media[0].className).insertBefore(f.$media);f.container.addClass((e.isAndroid?"mejs-android ":"")+(e.isiOS?"mejs-ios ":"")+(e.isiPad?"mejs-ipad ":"")+(e.isiPhone?"mejs-iphone ":"")+(f.isVideo?"mejs-video ":"mejs-audio "));if(e.isiOS){e=f.$media.clone();f.container.find(".mejs-mediaelement").append(e);f.$media.remove();f.$node=f.$media=e;f.node=f.media=e[0]}else{f.container.find(".mejs-mediaelement").append(f.$media)}f.controls=f.container.find(".mejs-controls");f.layers=f.container.find(".mejs-layers");e=g.substring(0,1).toUpperCase()+g.substring(1);f.width=f.options[g+"Width"]>0||f.options[g+"Width"].toString().indexOf("%")>-1?f.options[g+"Width"]:f.media.style.width!==""&&f.media.style.width!==null?f.media.style.width:f.media.getAttribute("width")!==null?f.$media.attr("width"):f.options["default"+e+"Width"];f.height=f.options[g+"Height"]>0||f.options[g+"Height"].toString().indexOf("%")>-1?f.options[g+"Height"]:f.media.style.height!==""&&f.media.style.height!==null?f.media.style.height:f.$media[0].getAttribute("height")!==null?f.$media.attr("height"):f.options["default"+e+"Height"];f.setPlayerSize(f.width,f.height);h.pluginWidth=f.height;h.pluginHeight=f.width}}mejs.MediaElement(f.$media[0],h)},showControls:function(d){var c=this;d=typeof d=="undefined"||d;if(!c.controlsAreVisible){if(d){c.controls.css("visibility","visible").stop(true,true).fadeIn(200,function(){c.controlsAreVisible=true});c.container.find(".mejs-control").css("visibility","visible").stop(true,true).fadeIn(200,function(){c.controlsAreVisible=true})}else{c.controls.css("visibility","visible").css("display","block");c.container.find(".mejs-control").css("visibility","visible").css("display","block");c.controlsAreVisible=true}c.setControlsSize()}},hideControls:function(d){var c=this;d=typeof d=="undefined"||d;if(c.controlsAreVisible){if(d){c.controls.stop(true,true).fadeOut(200,function(){a(this).css("visibility","hidden").css("display","block");c.controlsAreVisible=false});c.container.find(".mejs-control").stop(true,true).fadeOut(200,function(){a(this).css("visibility","hidden").css("display","block")})}else{c.controls.css("visibility","hidden").css("display","block");c.container.find(".mejs-control").css("visibility","hidden").css("display","block");c.controlsAreVisible=false}}},controlsTimer:null,startControlsTimer:function(d){var c=this;d=typeof d!="undefined"?d:1500;c.killControlsTimer("start");c.controlsTimer=setTimeout(function(){c.hideControls();c.killControlsTimer("hide")},d)},killControlsTimer:function(){if(this.controlsTimer!==null){clearTimeout(this.controlsTimer);delete this.controlsTimer;this.controlsTimer=null}},controlsEnabled:true,disableControls:function(){this.killControlsTimer();this.hideControls(false);this.controlsEnabled=false},enableControls:function(){this.showControls(false);this.controlsEnabled=true},meReady:function(h,f){var o=this,n=mejs.MediaFeatures,m=f.getAttribute("autoplay");m=!(typeof m=="undefined"||m===null||m==="false");var l;if(!o.created){o.created=true;o.media=h;o.domNode=f;if(!(n.isAndroid&&o.options.AndroidUseNativeControls)&&!(n.isiPad&&o.options.iPadUseNativeControls)&&!(n.isiPhone&&o.options.iPhoneUseNativeControls)){o.buildposter(o,o.controls,o.layers,o.media);o.buildkeyboard(o,o.controls,o.layers,o.media);o.buildoverlays(o,o.controls,o.layers,o.media);o.findTracks();for(l in o.options.features){n=o.options.features[l];if(o["build"+n]){try{o["build"+n](o,o.controls,o.layers,o.media)}catch(j){}}}o.container.trigger("controlsready");o.setPlayerSize(o.width,o.height);o.setControlsSize();if(o.isVideo){if(mejs.MediaFeatures.hasTouch){o.$media.bind("touchstart",function(){if(o.controlsAreVisible){o.hideControls(false)}else{o.controlsEnabled&&o.showControls(false)}})}else{(o.media.pluginType=="native"?o.$media:a(o.media.pluginElement)).click(function(){h.paused?h.play():h.pause()});o.container.bind("mouseenter mouseover",function(){if(o.controlsEnabled){if(!o.options.alwaysShowControls){o.killControlsTimer("enter");o.showControls();o.startControlsTimer(2500)}}}).bind("mousemove",function(){if(o.controlsEnabled){o.controlsAreVisible||o.showControls();o.options.alwaysShowControls||o.startControlsTimer(2500)}}).bind("mouseleave",function(){o.controlsEnabled&&!o.media.paused&&!o.options.alwaysShowControls&&o.startControlsTimer(1000)})}m&&!o.options.alwaysShowControls&&o.hideControls();o.options.enableAutosize&&o.media.addEventListener("loadedmetadata",function(b){if(o.options.videoHeight<=0&&o.domNode.getAttribute("height")===null&&!isNaN(b.target.videoHeight)){o.setPlayerSize(b.target.videoWidth,b.target.videoHeight);o.setControlsSize();o.media.setVideoSize(b.target.videoWidth,b.target.videoHeight)}},false)}h.addEventListener("play",function(){for(var b=0,c=mejs.players.length;b<c;b++){var d=mejs.players[b];d.id!=o.id&&o.options.pauseOtherPlayers&&!d.paused&&!d.ended&&d.pause();d.hasFocus=false}o.hasFocus=true},false);o.media.addEventListener("ended",function(){try{o.media.setCurrentTime(0)}catch(b){}o.media.pause();o.setProgressRail&&o.setProgressRail();o.setCurrentRail&&o.setCurrentRail();if(o.options.loop){o.media.play()}else{!o.options.alwaysShowControls&&o.controlsEnabled&&o.showControls()}},false);o.media.addEventListener("loadedmetadata",function(){o.updateDuration&&o.updateDuration();o.updateCurrent&&o.updateCurrent();if(!o.isFullScreen){o.setPlayerSize(o.width,o.height);o.setControlsSize()}},false);setTimeout(function(){o.setPlayerSize(o.width,o.height);o.setControlsSize()},50);a(window).resize(function(){o.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||o.setPlayerSize(o.width,o.height);o.setControlsSize()});o.media.pluginType=="youtube"&&o.container.find(".mejs-overlay-play").hide()}if(m&&h.pluginType=="native"){h.load();h.play()}if(o.options.success){typeof o.options.success=="string"?window[o.options.success](o.media,o.domNode,o):o.options.success(o.media,o.domNode,o)}}},handleError:function(b){this.controls.hide();this.options.error&&this.options.error(b)},setPlayerSize:function(g,f){if(typeof g!="undefined"){this.width=g}if(typeof f!="undefined"){this.height=f}if(this.height.toString().indexOf("%")>0){var k=this.media.videoWidth&&this.media.videoWidth>0?this.media.videoWidth:this.options.defaultVideoWidth,j=this.media.videoHeight&&this.media.videoHeight>0?this.media.videoHeight:this.options.defaultVideoHeight,h=this.container.parent().width();k=parseInt(h*j/k,10);if(this.container.parent()[0].tagName.toLowerCase()==="body"){h=a(window).width();k=a(window).height()}this.container.width(h).height(k);this.$media.width("100%").height("100%");this.container.find("object, embed, iframe").width("100%").height("100%");this.media.setVideoSize&&this.media.setVideoSize(h,k);this.layers.children(".mejs-layer").width("100%").height("100%")}else{this.container.width(this.width).height(this.height);this.layers.children(".mejs-layer").width(this.width).height(this.height)}},setControlsSize:function(){var g=0,f=0,k=this.controls.find(".mejs-time-rail"),j=this.controls.find(".mejs-time-total");this.controls.find(".mejs-time-current");this.controls.find(".mejs-time-loaded");var h=k.siblings();if(this.options&&!this.options.autosizeProgress){f=parseInt(k.css("width"))}if(f===0||!f){h.each(function(){if(a(this).css("position")!="absolute"){g+=a(this).outerWidth(true)}});f=this.controls.width()-g-(k.outerWidth(true)-k.width())}k.width(f);j.width(f-(j.outerWidth(true)-j.width()));this.setProgressRail&&this.setProgressRail();this.setCurrentRail&&this.setCurrentRail()},buildposter:function(g,f,k,j){var h=a('<div class="mejs-poster mejs-layer"></div>').appendTo(k);f=g.$media.attr("poster");if(g.options.poster!==""){f=g.options.poster}f!==""&&f!=null?this.setPoster(f):h.hide();j.addEventListener("play",function(){h.hide()},false)},setPoster:function(e){var d=this.container.find(".mejs-poster"),f=d.find("img");if(f.length==0){f=a('<img width="100%" height="100%" />').appendTo(d)}f.attr("src",e)},buildoverlays:function(h,f,o,n){if(h.isVideo){var m=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(o),l=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(o),j=a('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(o).click(function(){n.paused?n.play():n.pause()});n.addEventListener("play",function(){j.hide();m.hide();f.find(".mejs-time-buffering").hide();l.hide()},false);n.addEventListener("playing",function(){j.hide();m.hide();f.find(".mejs-time-buffering").hide();l.hide()},false);n.addEventListener("seeking",function(){m.show();f.find(".mejs-time-buffering").show()},false);n.addEventListener("seeked",function(){m.hide();f.find(".mejs-time-buffering").hide()},false);n.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||j.show()},false);n.addEventListener("waiting",function(){m.show();f.find(".mejs-time-buffering").show()},false);n.addEventListener("loadeddata",function(){m.show();f.find(".mejs-time-buffering").show()},false);n.addEventListener("canplay",function(){m.hide();f.find(".mejs-time-buffering").hide()},false);n.addEventListener("error",function(){m.hide();f.find(".mejs-time-buffering").hide();l.show();l.find("mejs-overlay-error").html("Error loading this resource")},false)}},buildkeyboard:function(f,e,h,g){a(document).keydown(function(j){if(f.hasFocus&&f.options.enableKeyboard){for(var d=0,b=f.options.keyActions.length;d<b;d++){for(var c=f.options.keyActions[d],l=0,m=c.keys.length;l<m;l++){if(j.keyCode==c.keys[l]){j.preventDefault();c.action(f,g);return false}}}}return true});a(document).click(function(b){if(a(b.target).closest(".mejs-container").length==0){f.hasFocus=false}})},findTracks:function(){var d=this,c=d.$media.find("track");d.tracks=[];c.each(function(e,b){b=a(b);d.tracks.push({srclang:b.attr("srclang").toLowerCase(),src:b.attr("src"),kind:b.attr("kind"),label:b.attr("label")||"",entries:[],isLoaded:false})})},changeSkin:function(b){this.container[0].className="mejs-container "+b;this.setPlayerSize(this.width,this.height);this.setControlsSize()},play:function(){this.media.play()},pause:function(){this.media.pause()},load:function(){this.media.load()},setMuted:function(b){this.media.setMuted(b)},setCurrentTime:function(b){this.media.setCurrentTime(b)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(b){this.media.setVolume(b)},getVolume:function(){return this.media.volume},setSrc:function(b){this.media.setSrc(b)},remove:function(){if(this.media.pluginType=="flash"){this.media.remove()}else{this.media.pluginType=="native"&&this.media.prop("controls",true)}this.isDynamic||this.$node.insertBefore(this.container);this.container.remove()}};if(typeof jQuery!="undefined"){jQuery.fn.mediaelementplayer=function(b){return this.each(function(){new mejs.MediaElementPlayer(this,b)})}}a(document).ready(function(){a(".mejs-player").mediaelementplayer()});window.MediaElementPlayer=mejs.MediaElementPlayer})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{playpauseText:"Play/Pause"});a.extend(MediaElementPlayer.prototype,{buildplaypause:function(g,f,k,j){var h=a('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+this.id+'" title="'+this.options.playpauseText+'"></button></div>').appendTo(f).click(function(b){b.preventDefault();j.paused?j.play():j.pause();return false});j.addEventListener("play",function(){h.removeClass("mejs-play").addClass("mejs-pause")},false);j.addEventListener("playing",function(){h.removeClass("mejs-play").addClass("mejs-pause")},false);j.addEventListener("pause",function(){h.removeClass("mejs-pause").addClass("mejs-play")},false);j.addEventListener("paused",function(){h.removeClass("mejs-pause").addClass("mejs-play")},false)}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{stopText:"Stop"});a.extend(MediaElementPlayer.prototype,{buildstop:function(f,e,h,g){a('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+this.id+'" title="'+this.options.stopText+'"></button></div>').appendTo(e).click(function(){g.paused||g.pause();if(g.currentTime>0){g.setCurrentTime(0);e.find(".mejs-time-current").width("0px");e.find(".mejs-time-handle").css("left","0px");e.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0));e.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0));h.find(".mejs-poster").show()}})}})})(mejs.$);(function(a){a.extend(MediaElementPlayer.prototype,{buildprogress:function(w,v,u,t){a('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(v);v.find(".mejs-time-buffering").hide();var s=v.find(".mejs-time-total");u=v.find(".mejs-time-loaded");var r=v.find(".mejs-time-current"),m=v.find(".mejs-time-handle"),q=v.find(".mejs-time-float"),j=v.find(".mejs-time-float-current"),l=function(c){c=c.pageX;var g=s.offset(),e=s.outerWidth(),d=0;d=0;var b=c-g.left;if(c>g.left&&c<=e+g.left&&t.duration){d=(c-g.left)/e;d=d<=0.02?0:d*t.duration;f&&t.setCurrentTime(d);if(!mejs.MediaFeatures.hasTouch){q.css("left",b);j.html(mejs.Utility.secondsToTimeCode(d));q.show()}}},f=false;s.bind("mousedown",function(b){if(b.which===1){f=true;l(b);a(document).bind("mousemove.dur",function(c){l(c)}).bind("mouseup.dur",function(){f=false;q.hide();a(document).unbind(".dur")});return false}}).bind("mouseenter",function(){a(document).bind("mousemove.dur",function(b){l(b)});mejs.MediaFeatures.hasTouch||q.show()}).bind("mouseleave",function(){if(!f){a(document).unbind(".dur");q.hide()}});t.addEventListener("progress",function(b){w.setProgressRail(b);w.setCurrentRail(b)},false);t.addEventListener("timeupdate",function(b){w.setProgressRail(b);w.setCurrentRail(b)},false);this.loaded=u;this.total=s;this.current=r;this.handle=m},setProgressRail:function(e){var d=e!=undefined?e.target:this.media,f=null;if(d&&d.buffered&&d.buffered.length>0&&d.buffered.end&&d.duration){f=d.buffered.end(0)/d.duration}else{if(d&&d.bytesTotal!=undefined&&d.bytesTotal>0&&d.bufferedBytes!=undefined){f=d.bufferedBytes/d.bytesTotal}else{if(e&&e.lengthComputable&&e.total!=0){f=e.loaded/e.total}}}if(f!==null){f=Math.min(1,Math.max(0,f));this.loaded&&this.total&&this.loaded.width(this.total.width()*f)}},setCurrentRail:function(){if(this.media.currentTime!=undefined&&this.media.duration){if(this.total&&this.handle){var d=this.total.width()*this.media.currentTime/this.media.duration,c=d-this.handle.outerWidth(true)/2;this.current.width(d);this.handle.css("left",c)}}}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:" <span> | </span> "});a.extend(MediaElementPlayer.prototype,{buildcurrent:function(f,e,h,g){a('<div class="mejs-time"><span class="mejs-currenttime">'+(f.options.alwaysShowHours?"00:":"")+(f.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(e);this.currenttime=this.controls.find(".mejs-currenttime");g.addEventListener("timeupdate",function(){f.updateCurrent()},false)},buildduration:function(f,e,h,g){if(e.children().last().find(".mejs-currenttime").length>0){a(this.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(this.options.duration>0?mejs.Utility.secondsToTimeCode(this.options.duration,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25):(f.options.alwaysShowHours?"00:":"")+(f.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(e.find(".mejs-time"))}else{e.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container");a('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(this.options.duration>0?mejs.Utility.secondsToTimeCode(this.options.duration,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25):(f.options.alwaysShowHours?"00:":"")+(f.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span></div>").appendTo(e)}this.durationD=this.controls.find(".mejs-duration");g.addEventListener("timeupdate",function(){f.updateDuration()},false)},updateCurrent:function(){if(this.currenttime){this.currenttime.html(mejs.Utility.secondsToTimeCode(this.media.currentTime,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25))}},updateDuration:function(){if(this.media.duration&&this.durationD){this.durationD.html(mejs.Utility.secondsToTimeCode(this.media.duration,this.options.alwaysShowHours,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25))}}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{muteText:"Mute Toggle",hideVolumeOnTouchDevices:true,audioVolume:"horizontal",videoVolume:"vertical"});a.extend(MediaElementPlayer.prototype,{buildvolume:function(B,A,z,y){if(!(mejs.MediaFeatures.hasTouch&&this.options.hideVolumeOnTouchDevices)){var x=this.isVideo?this.options.videoVolume:this.options.audioVolume,w=x=="horizontal"?a('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+this.id+'" title="'+this.options.muteText+'"></button></div><div class="mejs-horizontal-volume-slider"><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></div>').appendTo(A):a('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+this.id+'" title="'+this.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(A),t=this.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),v=this.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),m=this.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),r=this.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),j=function(c,b){if(!t.is(":visible")&&typeof b!="undefined"){t.show();j(c,true);t.hide()}else{c=Math.max(0,c);c=Math.min(c,1);c==0?w.removeClass("mejs-mute").addClass("mejs-unmute"):w.removeClass("mejs-unmute").addClass("mejs-mute");if(x=="vertical"){var g=v.height(),e=v.position(),d=g-g*c;r.css("top",e.top+d-r.height()/2);m.height(g-d);m.css("top",e.top+d)}else{g=v.width();e=v.position();g=g*c;r.css("left",e.left+g-r.width()/2);m.width(g)}}},s=function(c){var b=null,d=v.offset();if(x=="vertical"){b=v.height();parseInt(v.css("top").replace(/px/,""),10);b=(b-(c.pageY-d.top))/b;if(d.top==0||d.left==0){return}}else{b=v.width();b=(c.pageX-d.left)/b}b=Math.max(0,b);b=Math.min(b,1);j(b);b==0?y.setMuted(true):y.setMuted(false);y.setVolume(b)},f=false,u=false;w.hover(function(){t.show();u=true},function(){u=false;!f&&x=="vertical"&&t.hide()});t.bind("mouseover",function(){u=true}).bind("mousedown",function(b){s(b);a(document).bind("mousemove.vol",function(c){s(c)}).bind("mouseup.vol",function(){f=false;a(document).unbind(".vol");!u&&x=="vertical"&&t.hide()});f=true;return false});w.find("button").click(function(){y.setMuted(!y.muted)});y.addEventListener("volumechange",function(){if(!f){if(y.muted){j(0);w.removeClass("mejs-mute").addClass("mejs-unmute")}else{j(y.volume);w.removeClass("mejs-unmute").addClass("mejs-mute")}}},false);if(this.container.is(":visible")){j(B.options.startVolume);y.pluginType==="native"&&y.setVolume(B.options.startVolume)}}}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{usePluginFullScreen:true,newWindowCallback:function(){return""},fullscreenText:"Fullscreen"});a.extend(MediaElementPlayer.prototype,{isFullScreen:false,isNativeFullScreen:false,docStyleOverflow:null,isInIframe:false,buildfullscreen:function(A,z,y,x){if(A.isVideo){A.isInIframe=window.location!=window.parent.location;if(mejs.MediaFeatures.hasTrueNativeFullScreen){y=null;y=mejs.MediaFeatures.hasMozNativeFullScreen?a(document):A.container;y.bind(mejs.MediaFeatures.fullScreenEventName,function(){if(mejs.MediaFeatures.isFullScreen()){A.isNativeFullScreen=true;A.setControlsSize()}else{A.isNativeFullScreen=false;A.exitFullScreen()}})}var w=this,v=a('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+w.id+'" title="'+w.options.fullscreenText+'"></button></div>').appendTo(z);if(w.media.pluginType==="native"||!w.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox){v.click(function(){mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||A.isFullScreen?A.exitFullScreen():A.enterFullScreen()})}else{var t=null;z=function(){var d=document.createElement("x"),c=document.documentElement,b=window.getComputedStyle;if(!("pointerEvents" in d.style)){return false}d.style.pointerEvents="auto";d.style.pointerEvents="x";c.appendChild(d);b=b&&b(d,"").pointerEvents==="auto";c.removeChild(d);return !!b}();console.log("supportsPointerEvents",z);if(z&&!mejs.MediaFeatures.isOpera){var u=false,m=function(){if(u){r.hide();j.hide();s.hide();v.css("pointer-events","");w.controls.css("pointer-events","");u=false}},r=a('<div class="mejs-fullscreen-hover" />').appendTo(w.container).mouseover(m),j=a('<div class="mejs-fullscreen-hover"  />').appendTo(w.container).mouseover(m),s=a('<div class="mejs-fullscreen-hover"  />').appendTo(w.container).mouseover(m),f=function(){var b={position:"absolute",top:0,left:0};r.css(b);j.css(b);s.css(b);r.width(w.container.width()).height(w.container.height()-w.controls.height());b=v.offset().left-w.container.offset().left;fullScreenBtnWidth=v.outerWidth(true);j.width(b).height(w.controls.height()).css({top:w.container.height()-w.controls.height()});s.width(w.container.width()-b-fullScreenBtnWidth).height(w.controls.height()).css({top:w.container.height()-w.controls.height(),left:b+fullScreenBtnWidth})};a(document).resize(function(){f()});v.mouseover(function(){if(!w.isFullScreen){var c=v.offset(),b=A.container.offset();x.positionFullscreenButton(c.left-b.left,c.top-b.top,false);v.css("pointer-events","none");w.controls.css("pointer-events","none");r.show();s.show();j.show();f();u=true}});x.addEventListener("fullscreenchange",function(){m()})}else{v.mouseover(function(){if(t!==null){clearTimeout(t);delete t}var c=v.offset(),b=A.container.offset();x.positionFullscreenButton(c.left-b.left,c.top-b.top,true)}).mouseout(function(){if(t!==null){clearTimeout(t);delete t}t=setTimeout(function(){x.hideFullscreenButton()},1500)})}}A.fullscreenBtn=v;a(document).bind("keydown",function(b){if((mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||w.isFullScreen)&&b.keyCode==27){A.exitFullScreen()}})}},enterFullScreen:function(){var e=this;if(!(e.media.pluginType!=="native"&&(mejs.MediaFeatures.isFirefox||e.options.usePluginFullScreen))){docStyleOverflow=document.documentElement.style.overflow;document.documentElement.style.overflow="hidden";normalHeight=e.container.height();normalWidth=e.container.width();if(e.media.pluginType==="native"){if(mejs.MediaFeatures.hasTrueNativeFullScreen){mejs.MediaFeatures.requestFullScreen(e.container[0]);e.isInIframe&&setTimeout(function f(){if(e.isNativeFullScreen){a(window).width()!==screen.width?e.exitFullScreen():setTimeout(f,500)}},500)}else{if(mejs.MediaFeatures.hasSemiNativeFullScreen){e.media.webkitEnterFullscreen();return}}}if(e.isInIframe){var d=e.options.newWindowCallback(this);if(d!==""){if(mejs.MediaFeatures.hasTrueNativeFullScreen){setTimeout(function(){if(!e.isNativeFullScreen){e.pause();window.open(d,e.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no")}},250)}else{e.pause();window.open(d,e.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");return}}}e.container.addClass("mejs-container-fullscreen").width("100%").height("100%");setTimeout(function(){e.container.css({width:"100%",height:"100%"});e.setControlsSize()},500);if(e.pluginType==="native"){e.$media.width("100%").height("100%")}else{e.container.find("object, embed, iframe").width("100%").height("100%");e.media.setVideoSize(a(window).width(),a(window).height())}e.layers.children("div").width("100%").height("100%");e.fullscreenBtn&&e.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen");e.setControlsSize();e.isFullScreen=true}},exitFullScreen:function(){if(this.media.pluginType!=="native"&&mejs.MediaFeatures.isFirefox){this.media.setFullscreen(false)}else{if(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||this.isFullScreen)){mejs.MediaFeatures.cancelFullScreen()}document.documentElement.style.overflow=docStyleOverflow;this.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight);if(this.pluginType==="native"){this.$media.width(normalWidth).height(normalHeight)}else{this.container.find("object embed").width(normalWidth).height(normalHeight);this.media.setVideoSize(normalWidth,normalHeight)}this.layers.children("div").width(normalWidth).height(normalHeight);this.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen");this.setControlsSize();this.isFullScreen=false}}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{startLanguage:"",tracksText:"Captions/Subtitles"});a.extend(MediaElementPlayer.prototype,{hasChapters:false,buildtracks:function(g,f,k,j){if(g.isVideo){if(g.tracks.length!=0){var h;g.chapters=a('<div class="mejs-chapters mejs-layer"></div>').prependTo(k).hide();g.captions=a('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position"><span class="mejs-captions-text"></span></div></div>').prependTo(k).hide();g.captionsText=g.captions.find(".mejs-captions-text");g.captionsButton=a('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+this.id+'" title="'+this.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+g.id+'_captions" id="'+g.id+'_captions_none" value="none" checked="checked" /><label for="'+g.id+'_captions_none">None</label></li></ul></div></div>').appendTo(f).hover(function(){a(this).find(".mejs-captions-selector").css("visibility","visible")},function(){a(this).find(".mejs-captions-selector").css("visibility","hidden")}).delegate("input[type=radio]","click",function(){lang=this.value;if(lang=="none"){g.selectedTrack=null}else{for(h=0;h<g.tracks.length;h++){if(g.tracks[h].srclang==lang){g.selectedTrack=g.tracks[h];g.captions.attr("lang",g.selectedTrack.srclang);g.displayCaptions();break}}}});g.options.alwaysShowControls?g.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):g.container.bind("mouseenter",function(){g.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("mouseleave",function(){j.paused||g.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")});g.trackToLoad=-1;g.selectedTrack=null;g.isLoadingTrack=false;for(h=0;h<g.tracks.length;h++){g.tracks[h].kind=="subtitles"&&g.addTrackButton(g.tracks[h].srclang,g.tracks[h].label)}g.loadNextTrack();j.addEventListener("timeupdate",function(){g.displayCaptions()},false);j.addEventListener("loadedmetadata",function(){g.displayChapters()},false);g.container.hover(function(){if(g.hasChapters){g.chapters.css("visibility","visible");g.chapters.fadeIn(200).height(g.chapters.find(".mejs-chapter").outerHeight())}},function(){g.hasChapters&&!j.paused&&g.chapters.fadeOut(200,function(){a(this).css("visibility","hidden");a(this).css("display","block")})});g.node.getAttribute("autoplay")!==null&&g.chapters.css("visibility","hidden")}}},loadNextTrack:function(){this.trackToLoad++;if(this.trackToLoad<this.tracks.length){this.isLoadingTrack=true;this.loadTrack(this.trackToLoad)}else{this.isLoadingTrack=false}},loadTrack:function(f){var e=this,h=e.tracks[f],g=function(){h.isLoaded=true;e.enableTrackButton(h.srclang,h.label);e.loadNextTrack()};h.isTranslation?mejs.TrackFormatParser.translateTrackText(e.tracks[0].entries,e.tracks[0].srclang,h.srclang,e.options.googleApiKey,function(b){h.entries=b;g()}):a.ajax({url:h.src,success:function(b){h.entries=mejs.TrackFormatParser.parse(b);g();h.kind=="chapters"&&e.media.duration>0&&e.drawChapters(h)},error:function(){e.loadNextTrack()}})},enableTrackButton:function(d,c){if(c===""){c=mejs.language.codes[d]||d}this.captionsButton.find("input[value="+d+"]").prop("disabled",false).siblings("label").html(c);this.options.startLanguage==d&&a("#"+this.id+"_captions_"+d).click();this.adjustLanguageBox()},addTrackButton:function(d,c){if(c===""){c=mejs.language.codes[d]||d}this.captionsButton.find("ul").append(a('<li><input type="radio" name="'+this.id+'_captions" id="'+this.id+"_captions_"+d+'" value="'+d+'" disabled="disabled" /><label for="'+this.id+"_captions_"+d+'">'+c+" (loading)</label></li>"));this.adjustLanguageBox();this.container.find(".mejs-captions-translations option[value="+d+"]").remove()},adjustLanguageBox:function(){this.captionsButton.find(".mejs-captions-selector").height(this.captionsButton.find(".mejs-captions-selector ul").outerHeight(true)+this.captionsButton.find(".mejs-captions-translations").outerHeight(true))},displayCaptions:function(){if(typeof this.tracks!="undefined"){var d,c=this.selectedTrack;if(c!=null&&c.isLoaded){for(d=0;d<c.entries.times.length;d++){if(this.media.currentTime>=c.entries.times[d].start&&this.media.currentTime<=c.entries.times[d].stop){this.captionsText.html(c.entries.text[d]);this.captions.show().height(0);return}}}this.captions.hide()}},displayChapters:function(){var b;for(b=0;b<this.tracks.length;b++){if(this.tracks[b].kind=="chapters"&&this.tracks[b].isLoaded){this.drawChapters(this.tracks[b]);this.hasChapters=true;break}}},drawChapters:function(g){var f=this,k,j,h=j=0;f.chapters.empty();for(k=0;k<g.entries.times.length;k++){j=g.entries.times[k].stop-g.entries.times[k].start;j=Math.floor(j/f.media.duration*100);if(j+h>100||k==g.entries.times.length-1&&j+h<100){j=100-h}f.chapters.append(a('<div class="mejs-chapter" rel="'+g.entries.times[k].start+'" style="left: '+h.toString()+"%;width: "+j.toString()+'%;"><div class="mejs-chapter-block'+(k==g.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+g.entries.text[k]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(g.entries.times[k].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(g.entries.times[k].stop)+"</span></div></div>"));h+=j}f.chapters.find("div.mejs-chapter").click(function(){f.media.setCurrentTime(parseFloat(a(this).attr("rel")));f.media.paused&&f.media.play()});f.chapters.show()}});mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}};mejs.TrackFormatParser={pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,split2:function(d,c){return d.split(c)},parse:function(g){var f=0;g=this.split2(g,/\r?\n/);for(var k={text:[],times:[]},j,h;f<g.length;f++){if(this.pattern_identifier.exec(g[f])){f++;if((j=this.pattern_timecode.exec(g[f]))&&f<g.length){f++;h=g[f];for(f++;g[f]!==""&&f<g.length;){h=h+"\n"+g[f];f++}k.text.push(h);k.times.push({start:mejs.Utility.timeCodeToSeconds(j[1]),stop:mejs.Utility.timeCodeToSeconds(j[3]),settings:j[5]})}}}return k}};if("x\n\ny".split(/\n/gi).length!=3){mejs.TrackFormatParser.split2=function(g,f){var k=[],j="",h;for(h=0;h<g.length;h++){j+=g.substring(h,h+1);if(f.test(j)){k.push(j.replace(f,""));j=""}}k.push(j);return k}}})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(b){if(typeof b.enterFullScreen=="undefined"){return null}return b.isFullScreen?"Turn off Fullscreen":"Go Fullscreen"},click:function(b){b.isFullScreen?b.exitFullScreen():b.enterFullScreen()}},{render:function(b){return b.media.muted?"Unmute":"Mute"},click:function(b){b.media.muted?b.setMuted(false):b.setMuted(true)}},{isSeparator:true},{render:function(){return"Download Video"},click:function(b){window.location.href=b.media.currentSrc}}]});a.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(b){b.contextMenu=a('<div class="mejs-contextmenu"></div>').appendTo(a("body")).hide();b.container.bind("contextmenu",function(c){if(b.isContextMenuEnabled){c.preventDefault();b.renderContextMenu(c.clientX-1,c.clientY-1);return false}});b.container.bind("click",function(){b.contextMenu.hide()});b.contextMenu.bind("mouseleave",function(){b.startContextMenuTimer()})},isContextMenuEnabled:true,enableContextMenu:function(){this.isContextMenuEnabled=true},disableContextMenu:function(){this.isContextMenuEnabled=false},contextMenuTimeout:null,startContextMenuTimer:function(){var b=this;b.killContextMenuTimer();b.contextMenuTimer=setTimeout(function(){b.hideContextMenu();b.killContextMenuTimer()},750)},killContextMenuTimer:function(){var b=this.contextMenuTimer;if(b!=null){clearTimeout(b);delete b}},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(j,f){for(var q=this,p="",o=q.options.contextMenuItems,n=0,l=o.length;n<l;n++){if(o[n].isSeparator){p+='<div class="mejs-contextmenu-separator"></div>'}else{var m=o[n].render(q);if(m!=null){p+='<div class="mejs-contextmenu-item" data-itemindex="'+n+'" id="element-'+Math.random()*1000000+'">'+m+"</div>"}}}q.contextMenu.empty().append(a(p)).css({top:f,left:j}).show();q.contextMenu.find(".mejs-contextmenu-item").each(function(){var c=a(this),d=parseInt(c.data("itemindex"),10),b=q.options.contextMenuItems[d];typeof b.show!="undefined"&&b.show(c,q);c.click(function(){typeof b.click!="undefined"&&b.click(q);q.contextMenu.hide()})});setTimeout(function(){q.killControlsTimer("rev3")},100)}})})(mejs.$);var CS50=CS50||{};CS50.Video=function(b){this.options=b;if(!this.options.playerContainer){throw"Error: You must define a container for the player!"}if(!this.options.video||!this.options.video.length){throw"Error: You must define a video to play!"}this.options.autostart=(b.autostart===undefined)?true:b.autostart;this.options.defaultLanguage=(b.defaultLanguage===undefined)?"en":b.defaultLanguage;this.options.height=(b.height===undefined)?360:b.height;this.options.playbackRates=(b.playbackRates===undefined)?[0.75,1,1.25,1.5]:b.playbackRates;this.options.questions=(b.questions===undefined)?[]:b.questions;this.options.srt=(b.srt===undefined)?null:b.srt;this.options.swf=(b.swf===undefined)?"./flashmediaelement.swf":b.swf;this.options.title=(b.title===undefined)?"":b.title;this.options.width=(b.width===undefined)?640:b.width;var a={panelQuestion:'             <div class="video50-question">                 <button type="button" class="panel-close close">&times;</button>                 <div class="question-content"></div>             </div>         ',playbackControls:'             <div class="video50-playback-controls">                 <ul class="nav nav-pills">                     <% for (var i in rates) { %>                         <li data-rate="<%= rates[i] %>" class="btn-playback-rate">                             <a href="#"><%= rates[i] %>x</a>                         </li>                     <% } %>                 </ul>             </div>         ',player:'             <div class="video50-player" style="width: <%= width %>px; height: <%= 38 + height %>px">                 <div class="player-navbar">                     <button class="btn btn-back"><i class="icon-arrow-left"></i> Back</button>                     <div class="player-navbar-title"><%= title %></div>                 </div>                 <div class="flip-container">                     <div class="video-container" style="width: <%= width %>px; height: <%= height %>px">                         <video width="<%= width %>" height="<%= height %>" class="video-player" controls="controls">                             <% if (srt) { %>                                 <track kind="subtitles" src="<%= srt[defaultLanguage] %>" srclang="<%= defaultLanguage %>" />                                 <% for (var i in srt) { %>                                     <% if (i != defaultLanguage) { %>                                         <track kind="subtitles" src="<%= srt[i] %>" srclang="<%= i %>" />                                     <% } %>                                 <% } %>                             <% } %>                             <% for (var i in video) { %>                                 <source type="video/<%= video[i].type %>" src="<%= video[i].url %>" />                             <% } %>                             <object width="<%= width %>" height="<%= height %>" type="application/x-shockwave-flash" data="<%= swf %>">                                 <param name="movie" value="<%= swf %>" />                                 <param name="flashvars" value="controls=true&file=<%= video[0].url %>" />                             </object>                         </video>                     </div>                     <div class="flip-question-container video50-question" style="width: <%= width %>px; height: <%= height %>px">                         <div class="question-content"></div>                     </div>                 </div>             </div>         ',notifications:'             <div class="video50-notifications">                 <table class="table table-bordered table-striped">                     <thead>                         <tr>                             <td colspan=2>                                 <strong>Available Questions</strong><br />                                 <input id="video50-notifications-auto" type="checkbox" />                                 <label for="video50-notifications-auto">Automatically go to new questions</label>                                 <input id="video50-notifications-all" type="checkbox" />                                 <label for="video50-notifications-all">Show all questions for this video</label>                             </td>                         </tr>                     </thead>                     <tbody></tbody>                 </table>             </div>         ',notification:'             <tr data-question-id="<%= question.question.id %>">                 <td class="question-state" style="width: 1px"></td>                 <td>                     <a href="#" rel="tooltip" title="<%= question.question.question %>">                         <%= question.question.tags.join(", ") %>                     </a>                 </td>             </tr>         ',transcript:'             <div class="video50-transcript">                 <div class="video50-transcript-controls-wrapper">                     <input id="video50-transcript-auto" type="checkbox" checked="checked" />                     <label for="video50-transcript-auto">Automatically scroll transcript</label>                     <div class="video50-transcript-lang btn-group">                         <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">                             <%= language %> <span class="caret"></span>                         </a>                         <ul class="dropdown-menu">                             <% for (var i in srt) { %>                                 <% if (i != language) { %>                                     <li>                                         <a href="#" data-lang="<%= i %>"><%= i %></a>                                     </li>                                 <% } %>                             <% } %>                         </ul>                     </div>                 </div>                 <div class="video50-transcript-container">                     <div class="video50-transcript-text">                     </div>                 </div>             </div>         '};this.templates={};for(var c in a){this.templates[c]=_.template(a[c])}this.options.questions.sort(function(e,d){return(e.timecode-d.timecode)});this.createPlayer();this.createNotifications();this.loadSrt(this.options.defaultLanguage)};CS50.Video.QuestionMode={FLIP:"flip",PANEL:"panel"};CS50.Video.QuestionState={UNSEEN:"unseen",UNANSWERED:"unanswered",CORRECT:"correct",INCORRECT:"incorrect"};CS50.Video.prototype.checkQuestionAvailable=function(){if(!this.options.notificationsContainer){return}var a=this.player;var c=$(this.options.notificationsContainer).find("tbody");var b=this;_.each(this.options.questions,function(f,d){if(f.timecode<=Math.floor(a.getCurrentTime())&&!c.find('tr[data-question-id="'+f.question.id+'"]').length){if(b.currentQuestion!=f.question.id){if($(b.options.notificationsContainer).find("#video50-notifications-auto").is(":checked")){b.showQuestion(f.question.id)}c.prepend(b.templates.notification({question:f})).find("[rel=tooltip]").tooltip({placement:"right"})}}})};CS50.Video.prototype.createPlayer=function(){var b=$(this.options.playerContainer);b.html(this.templates.player({defaultLanguage:this.options.defaultLanguage,height:this.options.height,srt:this.options.srt,swf:this.options.swf,title:this.options.title,video:this.options.video,width:this.options.width}));var a=this;this.player=new MediaElementPlayer(this.options.playerContainer+" .video-player",{timerRate:500,success:function(c,f){c.addEventListener("timeupdate",function(g){a.checkQuestionAvailable();a.updateTranscriptHighlight()},false);if(a.options.autostart){c.play()}var d=c.pluginType!="flash";if(a.options.playbackRates.length&&d){if(a.options.playbackContainer){$(a.options.playbackContainer).html(a.templates.playbackControls({rates:a.options.playbackRates}))}else{a.options.playbackContainer=$(a.templates.playbackControls({rates:a.options.playbackRates}));b.after(a.options.playbackContainer)}var e=$(a.options.playbackContainer);e.find('[data-rate="1"]').addClass("active");e.on("click",".btn-playback-rate",function(g){$(this).siblings().removeClass("active");$(this).addClass("active");a.player.media.playbackRate=parseFloat($(this).attr("data-rate"));g.preventDefault();return false})}}});b.on("click",".btn-back",function(c){$(this).fadeOut("medium");a.player.play();b.find(".flip-container").removeClass("flipped");$(".video50-txt-answer").remove();setTimeout(function(){b.find(".video-container").fadeIn("medium")},500)})};CS50.Video.prototype.createNotifications=function(){var b=$(this.options.notificationsContainer);b.html(this.templates.notifications());var a=this;b.on("click","a",function(){var c=$(this).parents("[data-question-id]").attr("data-question-id");a.showQuestion(c);$(this).tooltip("hide")});b.on("change","#video50-notifications-all",function(){if($(this).is(":checked")){_.each(a.options.questions,function(c){if(!b.find('tr[data-question-id="'+c.question.id+'"]').length){b.find("tbody").append(a.templates.notification({question:c})).find("[rel=tooltip]").tooltip({placement:"right"})}})}else{_.each(a.options.questions,function(c){if(c.timecode>Math.floor(a.player.getCurrentTime())){b.find('tr[data-question-id="'+c.question.id+'"]').remove()}})}})};CS50.Video.prototype.loadSrt=function(c){this.srtData={};var a=this.player;var b=this;if(this.options.srt[c]){$.get(this.options.srt[c],function(g){var l=g.split(/\n\s*\n/);if(b.options.transcriptContainer){$(b.options.transcriptContainer).html(b.templates.transcript({srt:b.options.srt,language:c}));var o=$(b.options.transcriptContainer).find(".video50-transcript-text");o.empty();var e=l.length;for(var h=0;h<e;h++){var d=l[h].split("\n");if(d.length>1){var j=d[1].split(" --> ")[0];d.splice(0,2);var k=d.join(" ");if(k.match(/^(>>|\[)/)){o.append("<br /><br />")}var f=j.match(/(\d+):(\d+):(\d+)/);var m=parseInt(f[1],10)*3600+parseInt(f[2],10)*60+parseInt(f[3],10);o.append('<a href="#" data-time="'+m+'">'+k+"</a>")}}$(b.options.transcriptContainer).on("click",".video50-transcript-lang a[data-lang]",function(){var n=$(this).attr("data-lang");b.loadSrt(n);if($(b.options.playerContainer).find(".mejs-captions-selector input[type=radio]:checked").attr("value")!="none"){$(b.options.playerContainer).find('.mejs-captions-selector input[value="'+n+'"]').click()}});$(b.options.playerContainer).on("click",".mejs-captions-selector input[type=radio]",function(){var n=$(this).attr("value");if(n!="none"){b.loadSrt(n)}});o.on("click","a",function(){var n=$(this).attr("data-time");if(n){a.setCurrentTime(n)}});b.disableTranscriptAutoSeek=false;$(b.options.transcriptContainer).find(".video50-transcript-container").on("scrollstart",function(){b.disableTranscriptAutoSeek=true});$(b.options.transcriptContainer).find(".video50-transcript-container").on("scrollstop",function(){b.disableTranscriptAutoSeek=false})}})}};CS50.Video.prototype.renderCallback=function(e,b,d){var a=_.find(this.options.questions,function(f){return f.question.id==e});a.state=(b)?CS50.Video.QuestionState.CORRECT:CS50.Video.QuestionState.INCORRECT;var c=$(this.options.notificationsContainer).find("[data-question-id="+e+"]").find(".question-state");if(b){c.html('<i class="icon-ok"></i>')}else{c.html('<i class="icon-remove"></i>')}return true};CS50.Video.prototype.showQuestion=function(d){var a=_.find(this.options.questions,function(f){return f.question.id==d});if(a){this.currentQuestion=d;$(".video50-txt-answer").remove();if(!a.state||a.state==CS50.Video.QuestionState.UNSEEN){a.state=CS50.Video.QuestionState.UNANSWERED}if(a.mode==CS50.Video.QuestionMode.FLIP){this.player.pause();$(".video50-question .panel-close").click();var b=$(this.options.playerContainer);var c=$(this.options.playerContainer).find(".flip-question-container .question-content");c.empty().off();a.question.render(this,c,a.question,this.renderCallback);$(this.options.playerContainer).find(".video-container").fadeOut("medium");$(this.options.playerContainer).find(".flip-container").addClass("flipped");setTimeout(function(){b.find(".btn-back").show()},100)}else{if(a.mode==CS50.Video.QuestionMode.PANEL){$(".video50-player .btn-back").click();var c=$(this.options.questionContainer);c.empty().off();c.hide().html(this.templates.panelQuestion()).fadeIn("fast");a.question.render(this,c.find(".question-content"),a.question,this.renderCallback);c.on("click",".panel-close",function(){c.find(".video50-question").fadeOut("fast",function(){$(".video50-txt-answer").remove();$(this).remove()})})}}}};CS50.Video.prototype.updateTranscriptHighlight=function(){var c=Math.floor(this.player.getCurrentTime());var d=$(this.options.transcriptContainer);var a=d.find('[data-time="'+c+'"]');if(a&&a.length){d.find("a").removeClass("highlight");a.addClass("highlight");if(!this.disableTranscriptAutoSeek&&d.find("#video50-transcript-auto").is(":checked")){var b=a.position().top-parseInt(d.height()/2);d.find(".video50-transcript-container").animate({scrollTop:b})}}};var CS50=CS50||{};CS50.Video.Render=CS50.Video.Render||{};CS50.Video.Render.FreeResponse=function(c,a,d,h){var e=$(a);e.append("<h2>"+d.question+"</h2>");var b=$('<input type="text" class="txt-answer-location" />');e.append(b);var g=$('<input type="text" class="video50-txt-answer" />');setTimeout(function(){var j=b.offset();g.css({position:"absolute",top:j.top+"px",left:j.left+"px","z-index":999});$("body").append(g);b.css({visibility:"hidden"})},1000);var f=$('<button class="btn btn-submit">Submit Response</button>').hide();e.append(f);e.on("click",".btn-submit",function(l){var m=$(this).parents(".question-content");m.find(".alert").remove();var k=g.val().match(d.answer);if(k){var j=$('<div class="alert alert-success"><strong>Correct!</strong></div>')}else{var j=$('<div class="alert alert-error">That\'s not the right answer, <strong>try again!</strong></div>')}j.hide().appendTo(m).fadeIn("fast");h.call(c,d.id,k,{});l.preventDefault();return false});$("body").on("keyup",".video50-txt-answer",function(j){var l=e.find(".btn-submit");var k=$(".video50-txt-answer");if(k.val().match(/^\s*$/)&&l.is(":visible")){l.fadeOut("fast")}else{if(!l.is(":visible")){l.fadeIn("fast")}}j.stopPropagation()});return g};CS50.Video.Render.MultipleChoice=function(b,a,c,f){var d=$(a);d.append("<h2>"+c.question+"</h2>");$choices=$('<div class="question-choices">');_.each(c.choices,function(h,g){$choices.append('<input id="'+g+'" type="radio" name="question" value="'+g+'" /><label for="'+g+'">'+h+"</label><br />")});var e=$('<button class="btn btn-submit">Submit Response</button>').hide();d.append($choices);d.append(e);d.on("click",".btn-submit",function(j){var k=$(this).parents(".question-content");k.find(".alert").remove();var h=(c.answer==k.find("input[type=radio]:checked").val());if(h){var g=$('<div class="alert alert-success"><strong>Correct!</strong></div>')}else{var g=$('<div class="alert alert-error">That\'s not the right answer, <strong>try again!</strong></div>')}g.hide().appendTo(k).fadeIn("fast");f.call(b,c.id,h,{});j.preventDefault();return false});d.on("click",".question-choices input[type=radio]",function(){e=d.find(".btn-submit");if(!e.is(":visible")){e.fadeIn("fast")}})};CS50.Video.Render.Numeric=function(b,a,c,f){c.tolerance=(c.tolerance===undefined)?1:c.tolerance;var e=CS50.Video.Render.FreeResponse(b,a,c,f);var d=$(a);d.off("click",".btn-submit");d.on("click",".btn-submit",function(j){var k=parseFloat(e.val());var h=false;if(isNaN(k)){var g=$('<div class="alert alert-error">The answer must be a number, <strong>try again!</strong></div>')}else{h=(k<=c.answer+c.answer*c.tolerance&&k>=c.answer-c.answer*c.tolerance);if(h){var g=$('<div class="alert alert-success"><strong>Correct!</strong></div>')}else{var g=$('<div class="alert alert-error">That\'s not the right answer, <strong>try again!</strong></div>')}}d.find(".alert").remove();g.hide().appendTo(d).fadeIn("fast");f.call(b,c.id,h,{});j.preventDefault();return false})};CS50.Video.Render.TrueFalse=function(b,a,c,d){CS50.Video.Render.MultipleChoice(b,a,{answer:!c.answer,choices:["True","False"],id:c.id,mode:c.mode,question:c.question,tags:c.tags,},d)};